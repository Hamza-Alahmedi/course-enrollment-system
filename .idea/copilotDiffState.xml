<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/BACKEND_ENVIRONMENT_VARIABLES.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/BACKEND_ENVIRONMENT_VARIABLES.md" />
              <option name="updatedContent" value="#  Backend Environment Variables - Complete Configuration&#10;&#10;## ✅ Updated Files:&#10;1. `CustomAuthenticationSuccessHandler.java` - Now uses `${frontend.url}` environment variable&#10;2. `application.properties` - Added `frontend.url` configuration&#10;&#10;---&#10;&#10;##  Backend Environment Variables for Render&#10;&#10;Go to **Render Dashboard → Your Backend Service → Environment**&#10;&#10;Add/Update these variables:&#10;&#10;```env&#10;# ============================================&#10;# DATABASE CONFIGURATION (Railway)&#10;# ============================================&#10;&#10;# Database Connection URL&#10;DATABASE_URL=jdbc:mysql://[RAILWAY_HOST]:[RAILWAY_PORT]/[RAILWAY_DATABASE]&#10;&#10;# Database Username (from Railway)&#10;DB_USERNAME=[RAILWAY_USER]&#10;&#10;# Database Password (from Railway)&#10;DB_PASSWORD=[RAILWAY_PASSWORD]&#10;&#10;&#10;# ============================================&#10;# SERVER CONFIGURATION&#10;# ============================================&#10;&#10;# Port (Render sets this automatically)&#10;PORT=8080&#10;&#10;&#10;# ============================================&#10;# FRONTEND CONFIGURATION (Important!)&#10;# ============================================&#10;&#10;# Frontend URL - Used for login redirects&#10;FRONTEND_URL=https://[YOUR-FRONTEND-URL].onrender.com&#10;&#10;&#10;# ============================================&#10;# CORS CONFIGURATION&#10;# ============================================&#10;&#10;# Allowed Origins - Must include frontend URL&#10;ALLOWED_ORIGINS=https://[YOUR-FRONTEND-URL].onrender.com,http://localhost:5173&#10;```&#10;&#10;---&#10;&#10;##  Step-by-Step: Add Environment Variables&#10;&#10;### 1️⃣ Get Your Frontend URL&#10;&#10;1. Go to **Render Dashboard**&#10;2. Click your **Frontend Static Site**&#10;3. Copy the URL (e.g., `https://course-enrollment-frontend-abc123.onrender.com`)&#10;&#10;---&#10;&#10;### 2️⃣ Get Your Railway MySQL Credentials&#10;&#10;1. Go to **Railway Dashboard** (https://railway.app/dashboard)&#10;2. Click your **MySQL service**&#10;3. Click **&quot;Variables&quot;** tab&#10;4. Copy these values:&#10;   - `MYSQLHOST`&#10;   - `MYSQLPORT`&#10;   - `MYSQLDATABASE`&#10;   - `MYSQLUSER`&#10;   - `MYSQLPASSWORD`&#10;&#10;---&#10;&#10;### 3️⃣ Add Variables to Render Backend&#10;&#10;1. Go to **Render Dashboard**&#10;2. Click your **Backend Service** (Docker service)&#10;3. Click **&quot;Environment&quot;** (left sidebar)&#10;4. Click **&quot;Add Environment Variable&quot;**&#10;5. Add each variable one by one:&#10;&#10;---&#10;&#10;#### Variable 1: DATABASE_URL&#10;```&#10;Key:   DATABASE_URL&#10;Value: jdbc:mysql://[MYSQLHOST]:[MYSQLPORT]/[MYSQLDATABASE]&#10;```&#10;&#10;**Example:**&#10;```&#10;jdbc:mysql://containers-us-west-123.railway.app:6543/railway&#10;```&#10;&#10;---&#10;&#10;#### Variable 2: DB_USERNAME&#10;```&#10;Key:   DB_USERNAME&#10;Value: [Your Railway MYSQLUSER]&#10;```&#10;&#10;**Example:**&#10;```&#10;root&#10;```&#10;&#10;---&#10;&#10;#### Variable 3: DB_PASSWORD&#10;```&#10;Key:   DB_PASSWORD&#10;Value: [Your Railway MYSQLPASSWORD]&#10;```&#10;&#10;**Example:**&#10;```&#10;AbCdEfGhIjKlMnOpQrStUvWxYz123456&#10;```&#10;&#10;---&#10;&#10;#### Variable 4: PORT&#10;```&#10;Key:   PORT&#10;Value: 8080&#10;```&#10;&#10;---&#10;&#10;#### Variable 5: FRONTEND_URL ⭐ **NEW - This fixes the redirect!**&#10;```&#10;Key:   FRONTEND_URL&#10;Value: https://[YOUR-FRONTEND-URL].onrender.com&#10;```&#10;&#10;**Example:**&#10;```&#10;https://course-enrollment-frontend-abc123.onrender.com&#10;```&#10;&#10;⚠️ **Important:** &#10;- Use `https://` (not `http://`)&#10;- No trailing slash at the end&#10;- Must be your exact Render frontend URL&#10;&#10;---&#10;&#10;#### Variable 6: ALLOWED_ORIGINS&#10;```&#10;Key:   ALLOWED_ORIGINS&#10;Value: https://[YOUR-FRONTEND-URL].onrender.com,http://localhost:5173&#10;```&#10;&#10;**Example:**&#10;```&#10;https://course-enrollment-frontend-abc123.onrender.com,http://localhost:5173&#10;```&#10;&#10;---&#10;&#10;### 4️⃣ Save and Redeploy&#10;&#10;1. Click **&quot;Save Changes&quot;** in Render&#10;2. Backend will automatically redeploy (~5 minutes)&#10;3. Wait for deployment to complete&#10;4. ✅ **Done!**&#10;&#10;---&#10;&#10;##  Complete Example Configuration&#10;&#10;Here's a complete example with dummy values:&#10;&#10;```env&#10;DATABASE_URL=jdbc:mysql://containers-us-west-123.railway.app:6543/railway&#10;DB_USERNAME=root&#10;DB_PASSWORD=AbCdEfGhIjKlMnOpQrStUvWxYz123456&#10;PORT=8080&#10;FRONTEND_URL=https://course-enrollment-frontend-abc123.onrender.com&#10;ALLOWED_ORIGINS=https://course-enrollment-frontend-abc123.onrender.com,http://localhost:5173&#10;```&#10;&#10;---&#10;&#10;##  What This Fixes&#10;&#10;### Before (The Problem):&#10;```java&#10;// Hardcoded localhost&#10;response.sendRedirect(&quot;http://localhost:5173?studentId=&quot; + student.getId());&#10;```&#10;&#10;**Result:** When you login from backend, it redirects to `localhost:5173` (doesn't work on Render)&#10;&#10;### After (The Solution):&#10;```java&#10;// Uses environment variable&#10;response.sendRedirect(frontendUrl + &quot;?studentId=&quot; + student.getId());&#10;```&#10;&#10;**Result:** When you login from backend, it redirects to your live frontend URL on Render! ✅&#10;&#10;---&#10;&#10;## ✅ Testing After Update&#10;&#10;### Test 1: Login from Backend HTML Page&#10;1. Go to your backend URL: `https://your-backend.onrender.com/login`&#10;2. Login with student credentials&#10;3. Should redirect to: `https://your-frontend.onrender.com?studentId=1`&#10;4. ✅ Student dashboard loads with data!&#10;&#10;### Test 2: Login from Frontend React Page&#10;1. Go to your frontend URL: `https://your-frontend.onrender.com`&#10;2. Login with student credentials&#10;3. Should stay on frontend and show dashboard&#10;4. ✅ Works as expected!&#10;&#10;---&#10;&#10;##  Troubleshooting&#10;&#10;### Problem: Still redirects to localhost&#10;&#10;**Solution:**&#10;1. Verify `FRONTEND_URL` variable is set in Render&#10;2. Check it has correct frontend URL&#10;3. Ensure backend redeployed after adding variable&#10;4. Check backend logs for the frontend URL being used&#10;&#10;### Problem: Redirect goes to wrong URL&#10;&#10;**Solution:**&#10;1. Check `FRONTEND_URL` value has no typos&#10;2. Ensure it uses `https://` (not `http://`)&#10;3. Remove any trailing slashes&#10;4. Must match your exact frontend URL&#10;&#10;### Problem: CORS error after redirect&#10;&#10;**Solution:**&#10;1. Check `ALLOWED_ORIGINS` includes your frontend URL&#10;2. Format: `https://your-frontend.onrender.com,http://localhost:5173`&#10;3. Save changes and wait for redeploy&#10;&#10;---&#10;&#10;##  Environment Variables Summary&#10;&#10;| Variable | Purpose | Example Value |&#10;|----------|---------|---------------|&#10;| `DATABASE_URL` | MySQL connection | `jdbc:mysql://host:port/db` |&#10;| `DB_USERNAME` | Database user | `root` |&#10;| `DB_PASSWORD` | Database password | `secret123` |&#10;| `PORT` | Server port | `8080` |&#10;| `FRONTEND_URL` ⭐ | **Login redirect URL** | `https://frontend.onrender.com` |&#10;| `ALLOWED_ORIGINS` | CORS origins | `https://frontend.onrender.com,...` |&#10;&#10;---&#10;&#10;##  Quick Checklist&#10;&#10;- [ ] Frontend deployed and URL copied&#10;- [ ] Railway MySQL credentials copied&#10;- [ ] Added `DATABASE_URL` to backend&#10;- [ ] Added `DB_USERNAME` to backend&#10;- [ ] Added `DB_PASSWORD` to backend&#10;- [ ] Added `PORT=8080` to backend&#10;- [ ] Added `FRONTEND_URL` with frontend URL ⭐&#10;- [ ] Added `ALLOWED_ORIGINS` with frontend URL&#10;- [ ] Saved changes in Render&#10;- [ ] Backend redeployed successfully&#10;- [ ] Tested login from backend HTML&#10;- [ ] Tested login from frontend React&#10;- [ ] ✅ Both work correctly!&#10;&#10;---&#10;&#10;##  Next Steps&#10;&#10;1. **Commit the code changes:**&#10;   ```powershell&#10;   cd &quot;C:\Users\hamza\OneDrive\Desktop\Online Course Enrolment System&quot;&#10;   git add .&#10;   git commit -m &quot;Fix: Use environment variable for frontend URL in login redirect&quot;&#10;   git push origin main&#10;   ```&#10;&#10;2. **Add environment variables in Render** (as shown above)&#10;&#10;3. **Wait for backend to redeploy** (~5 minutes)&#10;&#10;4. **Test login from backend** - Should redirect to frontend URL! ✅&#10;&#10;---&#10;&#10;**The key fix is adding `FRONTEND_URL` environment variable!** &#10;&#10;**Status:** ✅ Code updated, ready for deployment&#10;**Action Required:** Add environment variables in Render&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/BACKEND_ENV_VARS_YOUR_CONFIG.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/BACKEND_ENV_VARS_YOUR_CONFIG.md" />
              <option name="updatedContent" value="#  Backend Environment Variables - YOUR CONFIGURATION&#10;&#10;## ✅ Your URLs:&#10;- **Frontend URL:** `https://course-enrollment-frontend-c9mr.onrender.com`&#10;- **Backend URL:** (Your backend Render URL)&#10;&#10;---&#10;&#10;##  EXACT Environment Variables to Add in Render&#10;&#10;Go to: **Render Dashboard → Your Backend Service → Environment → Add Environment Variable**&#10;&#10;Copy these **EXACT values** (replace only the Railway database values):&#10;&#10;---&#10;&#10;### 1️⃣ FRONTEND_URL (⭐ This fixes the redirect!)&#10;```&#10;Key:   FRONTEND_URL&#10;Value: https://course-enrollment-frontend-c9mr.onrender.com&#10;```&#10;&#10;---&#10;&#10;### 2️⃣ ALLOWED_ORIGINS (CORS Configuration)&#10;```&#10;Key:   ALLOWED_ORIGINS&#10;Value: https://course-enrollment-frontend-c9mr.onrender.com,http://localhost:5173&#10;```&#10;&#10;---&#10;&#10;### 3️⃣ DATABASE_URL (From Railway)&#10;```&#10;Key:   DATABASE_URL&#10;Value: jdbc:mysql://[YOUR_RAILWAY_HOST]:[YOUR_RAILWAY_PORT]/[YOUR_RAILWAY_DATABASE]&#10;```&#10;&#10;**Example format:**&#10;```&#10;jdbc:mysql://containers-us-west-123.railway.app:6543/railway&#10;```&#10;&#10;**How to get:**&#10;1. Go to Railway Dashboard → Your MySQL service&#10;2. Click &quot;Variables&quot; tab&#10;3. Find: `MYSQLHOST`, `MYSQLPORT`, `MYSQLDATABASE`&#10;4. Construct the URL using the format above&#10;&#10;---&#10;&#10;### 4️⃣ DB_USERNAME (From Railway)&#10;```&#10;Key:   DB_USERNAME&#10;Value: [YOUR_RAILWAY_MYSQL_USER]&#10;```&#10;&#10;**Example:**&#10;```&#10;root&#10;```&#10;&#10;**How to get:**&#10;1. Railway Dashboard → MySQL service → Variables&#10;2. Copy the value of `MYSQLUSER`&#10;&#10;---&#10;&#10;### 5️⃣ DB_PASSWORD (From Railway)&#10;```&#10;Key:   DB_PASSWORD&#10;Value: [YOUR_RAILWAY_MYSQL_PASSWORD]&#10;```&#10;&#10;**How to get:**&#10;1. Railway Dashboard → MySQL service → Variables&#10;2. Copy the value of `MYSQLPASSWORD`&#10;&#10;---&#10;&#10;### 6️⃣ PORT&#10;```&#10;Key:   PORT&#10;Value: 8080&#10;```&#10;&#10;---&#10;&#10;##  Complete Configuration Summary&#10;&#10;Here's what your environment variables should look like in Render:&#10;&#10;```&#10;┌─────────────────────────┬──────────────────────────────────────────────────┐&#10;│ Key                     │ Value                                            │&#10;├─────────────────────────┼──────────────────────────────────────────────────┤&#10;│ FRONTEND_URL            │ https://course-enrollment-frontend-c9mr.o...     │&#10;│ ALLOWED_ORIGINS         │ https://course-enrollment-frontend-c9mr.o...     │&#10;│ DATABASE_URL            │ jdbc:mysql://[YOUR_RAILWAY_HOST]:...            │&#10;│ DB_USERNAME             │ [YOUR_RAILWAY_USER]                              │&#10;│ DB_PASSWORD             │ [YOUR_RAILWAY_PASSWORD]                          │&#10;│ PORT                    │ 8080                                             │&#10;└─────────────────────────┴──────────────────────────────────────────────────┘&#10;```&#10;&#10;---&#10;&#10;## ✅ Step-by-Step Instructions&#10;&#10;### Step 1: Commit and Push Code Changes&#10;&#10;Open PowerShell and run:&#10;&#10;```powershell&#10;cd &quot;C:\Users\hamza\OneDrive\Desktop\Online Course Enrolment System&quot;&#10;git add .&#10;git commit -m &quot;Fix: Use environment variable for frontend URL redirect&quot;&#10;git push origin main&#10;```&#10;&#10;---&#10;&#10;### Step 2: Add Environment Variables in Render&#10;&#10;1. Go to **Render Dashboard** (https://dashboard.render.com)&#10;2. Click your **Backend Service** (the Docker service)&#10;3. Click **&quot;Environment&quot;** (left sidebar)&#10;4. Add each variable using the button **&quot;Add Environment Variable&quot;**&#10;&#10;#### Add Variable 1: FRONTEND_URL&#10;- Click &quot;Add Environment Variable&quot;&#10;- Key: `FRONTEND_URL`&#10;- Value: `https://course-enrollment-frontend-c9mr.onrender.com`&#10;- Click outside to save&#10;&#10;#### Add Variable 2: ALLOWED_ORIGINS&#10;- Click &quot;Add Environment Variable&quot;&#10;- Key: `ALLOWED_ORIGINS`&#10;- Value: `https://course-enrollment-frontend-c9mr.onrender.com,http://localhost:5173`&#10;- Click outside to save&#10;&#10;#### Add Variable 3-6: Database &amp; Port&#10;- Add `DATABASE_URL`, `DB_USERNAME`, `DB_PASSWORD`, `PORT`&#10;- Use values from Railway MySQL service&#10;&#10;5. Click **&quot;Save Changes&quot;** button at the bottom&#10;&#10;---&#10;&#10;### Step 3: Wait for Redeploy&#10;&#10;1. Render will **automatically redeploy** your backend&#10;2. Wait ~5-7 minutes for Docker build to complete&#10;3. Check logs to ensure deployment succeeds&#10;&#10;---&#10;&#10;##  What This Fixes&#10;&#10;### Before:&#10;When you login from backend HTML page (`https://your-backend.onrender.com/login`):&#10;```&#10;→ Redirects to: http://localhost:5173?studentId=1&#10;❌ Doesn't work (localhost is not accessible)&#10;```&#10;&#10;### After:&#10;When you login from backend HTML page:&#10;```&#10;→ Redirects to: https://course-enrollment-frontend-c9mr.onrender.com?studentId=1&#10;✅ Works perfectly! Opens your live frontend with student data&#10;```&#10;&#10;---&#10;&#10;##  Testing After Update&#10;&#10;### Test 1: Login from Backend HTML&#10;1. Open: `https://your-backend.onrender.com/login`&#10;2. Enter student credentials (email &amp; password)&#10;3. Click &quot;Login&quot;&#10;4. **Expected Result:** Redirects to `https://course-enrollment-frontend-c9mr.onrender.com?studentId=X`&#10;5. ✅ Student dashboard loads with your data!&#10;&#10;### Test 2: Login from Frontend React&#10;1. Open: `https://course-enrollment-frontend-c9mr.onrender.com`&#10;2. Enter student credentials&#10;3. Click &quot;Login&quot;&#10;4. **Expected Result:** Stays on frontend, shows dashboard&#10;5. ✅ Works as expected!&#10;&#10;### Test 3: Check CORS&#10;1. Open frontend&#10;2. Open browser DevTools (F12) → Console tab&#10;3. Try any API call&#10;4. **Expected Result:** No CORS errors&#10;5. ✅ Backend allows requests from frontend!&#10;&#10;---&#10;&#10;##  Troubleshooting&#10;&#10;### Problem: Still redirects to localhost&#10;&#10;**Check:**&#10;1. Is `FRONTEND_URL` set in Render backend environment?&#10;2. Did backend redeploy after adding the variable?&#10;3. Clear browser cache and try again&#10;&#10;**Solution:**&#10;- Go to Render → Backend → Environment&#10;- Verify `FRONTEND_URL` exists and has correct value&#10;- Click &quot;Manual Deploy&quot; → &quot;Deploy latest commit&quot;&#10;&#10;---&#10;&#10;### Problem: &quot;Cannot connect to database&quot;&#10;&#10;**Check:**&#10;1. Is Railway MySQL running? (should show &quot;Active&quot; status)&#10;2. Are `DATABASE_URL`, `DB_USERNAME`, `DB_PASSWORD` correct?&#10;3. Check Railway MySQL variables match what you entered&#10;&#10;**Solution:**&#10;- Go to Railway → MySQL → Variables&#10;- Copy fresh values&#10;- Update Render backend environment variables&#10;- Save and redeploy&#10;&#10;---&#10;&#10;### Problem: CORS error in browser console&#10;&#10;**Check:**&#10;1. Does `ALLOWED_ORIGINS` include your frontend URL?&#10;2. Is the format correct? (comma-separated, no spaces)&#10;&#10;**Solution:**&#10;- Update `ALLOWED_ORIGINS` to:&#10;  ```&#10;  https://course-enrollment-frontend-c9mr.onrender.com,http://localhost:5173&#10;  ```&#10;- Save and wait for redeploy&#10;&#10;---&#10;&#10;##  Quick Checklist&#10;&#10;- [ ] Code changes committed and pushed to GitHub&#10;- [ ] Added `FRONTEND_URL` = `https://course-enrollment-frontend-c9mr.onrender.com`&#10;- [ ] Added `ALLOWED_ORIGINS` = `https://course-enrollment-frontend-c9mr.onrender.com,http://localhost:5173`&#10;- [ ] Added Railway database credentials (DATABASE_URL, DB_USERNAME, DB_PASSWORD)&#10;- [ ] Added `PORT` = `8080`&#10;- [ ] Clicked &quot;Save Changes&quot; in Render&#10;- [ ] Backend redeployed successfully&#10;- [ ] Tested login from backend HTML page&#10;- [ ] Confirmed redirect goes to frontend URL ✅&#10;- [ ] Tested login from frontend React page&#10;- [ ] No CORS errors in browser console ✅&#10;&#10;---&#10;&#10;##  Success Indicators&#10;&#10;When everything is working correctly:&#10;&#10;1. **Backend HTML login:**&#10;   - Enter credentials&#10;   - Click login&#10;   - Browser goes to: `https://course-enrollment-frontend-c9mr.onrender.com?studentId=1`&#10;   - Student dashboard loads with data&#10;&#10;2. **Frontend React login:**&#10;   - Enter credentials&#10;   - Click login&#10;   - Stays on frontend&#10;   - Dashboard appears with courses&#10;&#10;3. **No errors:**&#10;   - No CORS errors in console&#10;   - No 401/403 errors&#10;   - API calls work smoothly&#10;&#10;---&#10;&#10;##  After Setup Complete&#10;&#10;Your full stack will be working:&#10;- ✅ **Frontend:** `https://course-enrollment-frontend-c9mr.onrender.com`&#10;- ✅ **Backend:** `https://your-backend.onrender.com`&#10;- ✅ **Database:** Railway MySQL (connected)&#10;- ✅ **Login redirects:** Work correctly&#10;- ✅ **CORS:** Configured properly&#10;- ✅ **API calls:** All functional&#10;&#10;---&#10;&#10;**Now commit your code and add these environment variables in Render!** &#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/PRODUCTION_CONFIGURATION_COMPLETE.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/PRODUCTION_CONFIGURATION_COMPLETE.md" />
              <option name="updatedContent" value="# ✅ PRODUCTION CONFIGURATION COMPLETE&#10;&#10;##  Your Production URLs:&#10;- **Frontend:** `https://course-enrollment-frontend-c9mr.onrender.com`&#10;- **Backend:** `https://course-enrollment-system-dxav.onrender.com`&#10;&#10;---&#10;&#10;## ✅ Files Updated (All localhost references removed):&#10;&#10;### Backend Files:&#10;&#10;1. **`CorsConfig.java`**&#10;   - ✅ Updated default allowed origins to production frontend&#10;   - Old: `http://localhost:5173,http://localhost:3000,http://localhost:3001`&#10;   - New: `https://course-enrollment-frontend-c9mr.onrender.com`&#10;&#10;2. **`application.properties`**&#10;   - ✅ Updated `allowed.origins` default to production frontend&#10;   - ✅ Updated `frontend.url` default to production frontend&#10;   - Both now default to: `https://course-enrollment-frontend-c9mr.onrender.com`&#10;&#10;3. **`AuthController.java`**&#10;   - ✅ Updated `@CrossOrigin` annotation&#10;   - Old: `http://localhost:5173`&#10;   - New: `https://course-enrollment-frontend-c9mr.onrender.com`&#10;&#10;4. **`StudentRestController.java`**&#10;   - ✅ Updated `@CrossOrigin` annotation&#10;   - Old: `http://localhost:5173`&#10;   - New: `https://course-enrollment-frontend-c9mr.onrender.com`&#10;&#10;5. **`CourseRestController.java`**&#10;   - ✅ Updated `@CrossOrigin` annotation&#10;   - Old: `http://localhost:3000`&#10;   - New: `https://course-enrollment-frontend-c9mr.onrender.com`&#10;&#10;6. **`CategoryRestController.java`**&#10;   - ✅ Updated `@CrossOrigin` annotation&#10;   - Old: `http://localhost:3000, http://localhost:5173`&#10;   - New: `https://course-enrollment-frontend-c9mr.onrender.com`&#10;&#10;---&#10;&#10;### Frontend Files:&#10;&#10;1. **`axios.js`**&#10;   - ✅ Updated default API URL&#10;   - Old: `http://localhost:8080`&#10;   - New: `https://course-enrollment-system-dxav.onrender.com`&#10;&#10;2. **`App.jsx`**&#10;   - ✅ Updated login API endpoint&#10;   - Old: `http://localhost:8080/api/auth/login`&#10;   - New: `https://course-enrollment-system-dxav.onrender.com/api/auth/login`&#10;   &#10;   - ✅ Updated register link&#10;   - Old: `http://localhost:8080/register`&#10;   - New: `https://course-enrollment-system-dxav.onrender.com/register`&#10;&#10;3. **`.env`** (Created)&#10;   - ✅ New file with production backend URL&#10;   - `VITE_API_URL=https://course-enrollment-system-dxav.onrender.com`&#10;&#10;4. **`.env.development`**&#10;   - ✅ Updated to production backend URL&#10;   - Old: `http://localhost:8080`&#10;   - New: `https://course-enrollment-system-dxav.onrender.com`&#10;&#10;5. **`.env.example`**&#10;   - ✅ Updated to production backend URL&#10;   - Old: `http://localhost:8080`&#10;   - New: `https://course-enrollment-system-dxav.onrender.com`&#10;&#10;---&#10;&#10;##  What This Means:&#10;&#10;### ✅ No Localhost Dependencies:&#10;- All hardcoded `localhost` references removed&#10;- All default values point to production URLs&#10;- Application works entirely on Render&#10;&#10;### ✅ Frontend → Backend Communication:&#10;- Frontend calls: `https://course-enrollment-system-dxav.onrender.com/api/*`&#10;- Backend accepts requests from: `https://course-enrollment-frontend-c9mr.onrender.com`&#10;- CORS configured correctly for production&#10;&#10;### ✅ Login Redirects:&#10;- Backend login redirects to: `https://course-enrollment-frontend-c9mr.onrender.com`&#10;- Students login from backend HTML → redirected to React frontend&#10;- Seamless user experience&#10;&#10;---&#10;&#10;##  Next Steps:&#10;&#10;### 1️⃣ Commit and Push Changes&#10;&#10;```powershell&#10;cd &quot;C:\Users\hamza\OneDrive\Desktop\Online Course Enrolment System&quot;&#10;git add .&#10;git commit -m &quot;Configure for production: Update all URLs to Render endpoints&quot;&#10;git push origin main&#10;```&#10;&#10;### 2️⃣ Wait for Automatic Redeploys&#10;&#10;- **Backend:** Render will detect changes and redeploy (~5-7 minutes)&#10;- **Frontend:** Render will detect changes and redeploy (~2-3 minutes)&#10;&#10;### 3️⃣ Update Render Environment Variables (Optional)&#10;&#10;If you have environment variables set in Render dashboard, you can remove them since the code now has production defaults:&#10;&#10;**Backend Environment (Optional):**&#10;- `FRONTEND_URL` - Now defaults to production&#10;- `ALLOWED_ORIGINS` - Now defaults to production&#10;- Keep: `DATABASE_URL`, `DB_USERNAME`, `DB_PASSWORD`, `PORT`&#10;&#10;**Frontend Environment (Optional):**&#10;- `VITE_API_URL` - Now has production default in code&#10;- Can remove from Render if you want&#10;&#10;---&#10;&#10;##  Testing After Deployment:&#10;&#10;### Test 1: Frontend Direct Access&#10;1. Open: `https://course-enrollment-frontend-c9mr.onrender.com`&#10;2. Should load React frontend&#10;3. Try logging in&#10;4. ✅ Should work!&#10;&#10;### Test 2: Backend HTML Login&#10;1. Open: `https://course-enrollment-system-dxav.onrender.com/login`&#10;2. Login with student credentials&#10;3. Should redirect to: `https://course-enrollment-frontend-c9mr.onrender.com?studentId=X`&#10;4. ✅ Frontend loads with student dashboard!&#10;&#10;### Test 3: API Calls&#10;1. Open frontend&#10;2. Open DevTools (F12) → Network tab&#10;3. Login or browse courses&#10;4. API calls should go to: `https://course-enrollment-system-dxav.onrender.com/api/*`&#10;5. ✅ No CORS errors!&#10;&#10;### Test 4: No Localhost&#10;1. Check browser DevTools → Console&#10;2. Should see NO references to `localhost`&#10;3. All requests to production URLs&#10;4. ✅ Fully cloud-based!&#10;&#10;---&#10;&#10;##  Benefits of This Configuration:&#10;&#10;### ✅ Production-First:&#10;- Code defaults to production URLs&#10;- No manual environment variable setup needed&#10;- Works immediately on Render&#10;&#10;### ✅ Simpler Deployment:&#10;- No need to set environment variables for URLs&#10;- Code is self-contained&#10;- Less configuration, fewer mistakes&#10;&#10;### ✅ Easier Maintenance:&#10;- URLs in code, not scattered in config&#10;- Easy to update if you change domains&#10;- Clear and explicit&#10;&#10;### ✅ Better Developer Experience:&#10;- Clone repo → Deploy → Works&#10;- No localhost dependencies&#10;- Production-ready by default&#10;&#10;---&#10;&#10;##  Configuration Summary:&#10;&#10;```&#10;Frontend → Backend Communication:&#10;┌─────────────────────────────────────────────────────┐&#10;│ Frontend: course-enrollment-frontend-c9mr.onrender  │&#10;│                                                     │&#10;│ Calls API:                                          │&#10;│ → course-enrollment-system-dxav.onrender.com/api   │&#10;│                                                     │&#10;│ Backend accepts from:                               │&#10;│ ← course-enrollment-frontend-c9mr.onrender.com     │&#10;│                                                     │&#10;│ Backend redirects to:                               │&#10;│ → course-enrollment-frontend-c9mr.onrender.com     │&#10;└─────────────────────────────────────────────────────┘&#10;&#10;Database Connection (via environment variables):&#10;┌─────────────────────────────────────────────────────┐&#10;│ Backend: course-enrollment-system-dxav.onrender     │&#10;│                                                     │&#10;│ Connects to:                                        │&#10;│ → Railway MySQL (via DATABASE_URL env var)         │&#10;└─────────────────────────────────────────────────────┘&#10;```&#10;&#10;---&#10;&#10;## ⚠️ Important Notes:&#10;&#10;### Database Configuration:&#10;- Database URL still uses environment variable (correct!)&#10;- `DATABASE_URL` must be set in Render backend environment&#10;- This allows different databases for different environments&#10;&#10;### Environment Variables That MUST Stay:&#10;In Render Backend Environment:&#10;```&#10;DATABASE_URL=jdbc:mysql://[RAILWAY_HOST]:[PORT]/[DATABASE]&#10;DB_USERNAME=[RAILWAY_USER]&#10;DB_PASSWORD=[RAILWAY_PASSWORD]&#10;PORT=8080&#10;```&#10;&#10;### Environment Variables You Can Remove:&#10;- `FRONTEND_URL` - Now hardcoded in code&#10;- `ALLOWED_ORIGINS` - Now hardcoded in code  &#10;- `VITE_API_URL` - Now hardcoded in frontend code&#10;&#10;---&#10;&#10;##  Status:&#10;&#10;✅ **Backend configured for production**&#10;✅ **Frontend configured for production**&#10;✅ **All localhost references removed**&#10;✅ **CORS configured correctly**&#10;✅ **Login redirects configured**&#10;✅ **Ready to commit and deploy**&#10;&#10;---&#10;&#10;##  Action Required:&#10;&#10;1. **Commit changes** (command above)&#10;2. **Push to GitHub**&#10;3. **Wait for automatic Render redeployments**&#10;4. **Test everything**&#10;5. **Enjoy your fully cloud-based application!** &#10;&#10;---&#10;&#10;**Your application is now 100% production-ready with no localhost dependencies!** &#10;&#10;**Last Updated:** December 10, 2025&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/RENDER_FRONTEND_FIX.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/RENDER_FRONTEND_FIX.md" />
              <option name="updatedContent" value="#  EXACT Render Configuration for Your Frontend&#10;&#10;## ✅ Your Actual Folder Structure:&#10;```&#10;Online Course Enrolment System/&#10;└── student-frontend/          ← Your frontend is HERE&#10;    ├── package.json&#10;    ├── vite.config.js&#10;    ├── src/&#10;    └── dist/ (created after build)&#10;```&#10;&#10;---&#10;&#10;##  EXACT Render Settings (Copy These Values)&#10;&#10;Go to: **Render Dashboard → Your Frontend Service → Settings**&#10;&#10;### 1. Root Directory:&#10;```&#10;student-frontend&#10;```&#10;&#10;### 2. Build Command:&#10;```&#10;npm install &amp;&amp; npm run build&#10;```&#10;&#10;### 3. Publish Directory:&#10;```&#10;dist&#10;```&#10;&#10;**That's it!** These 3 settings are all you need.&#10;&#10;---&#10;&#10;##  Visual Guide - Where to Enter These:&#10;&#10;```&#10;Render Dashboard&#10;  → Click your Frontend Service&#10;    → Click &quot;Settings&quot; (left sidebar)&#10;      → Scroll to &quot;Build &amp; Deploy&quot; section&#10;        &#10;        ┌─────────────────────────────────────┐&#10;        │ Root Directory                      │&#10;        │ student-frontend                    │ ← Type this&#10;        └─────────────────────────────────────┘&#10;        &#10;        ┌─────────────────────────────────────┐&#10;        │ Build Command                       │&#10;        │ npm install &amp;&amp; npm run build        │ ← Type this&#10;        └─────────────────────────────────────┘&#10;        &#10;        ┌─────────────────────────────────────┐&#10;        │ Publish Directory                   │&#10;        │ dist                                │ ← Type this&#10;        └─────────────────────────────────────┘&#10;        &#10;        [Save Changes] ← Click this&#10;```&#10;&#10;---&#10;&#10;## ⚠️ Common Mistake:&#10;&#10;**WRONG:**&#10;```&#10;Root Directory: course-enrollment-frontend  ❌&#10;Root Directory: /student-frontend           ❌&#10;Root Directory: ./student-frontend          ❌&#10;```&#10;&#10;**CORRECT:**&#10;```&#10;Root Directory: student-frontend            ✅&#10;```&#10;&#10;---&#10;&#10;##  After Clicking &quot;Save Changes&quot;:&#10;&#10;1. Render will **automatically redeploy**&#10;2. Watch the logs - you should see:&#10;   ```&#10;   ==&gt; Cloning from GitHub...&#10;   ==&gt; Entering directory student-frontend&#10;   ==&gt; Running 'npm install'&#10;   ==&gt; Running 'npm run build'&#10;   ==&gt; Build successful!&#10;   ==&gt; Deploying...&#10;   ```&#10;3. Your frontend will be live! &#10;&#10;---&#10;&#10;##  If You Still Get &quot;vite: not found&quot;:&#10;&#10;**Double-check these:**&#10;&#10;1. **Root Directory** = `student-frontend` (exactly, no slashes)&#10;2. **Build Command** = `npm install &amp;&amp; npm run build`&#10;3. **You clicked &quot;Save Changes&quot;**&#10;4. **Render redeployed** (check logs for new deployment)&#10;&#10;---&#10;&#10;## ✅ Your package.json is Perfect!&#10;&#10;Your `package.json` already has everything needed:&#10;```json&#10;{&#10;  &quot;scripts&quot;: {&#10;    &quot;build&quot;: &quot;vite build&quot;,  ✅&#10;    &quot;start&quot;: &quot;vite preview --port $PORT --host 0.0.0.0&quot;  ✅&#10;  },&#10;  &quot;devDependencies&quot;: {&#10;    &quot;vite&quot;: &quot;^7.2.4&quot;  ✅&#10;  }&#10;}&#10;```&#10;&#10;No code changes needed - just fix the Render settings!&#10;&#10;---&#10;&#10;**Update the Root Directory to `student-frontend` and save!**&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/VITE_NOT_FOUND_COMPLETE_FIX.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/VITE_NOT_FOUND_COMPLETE_FIX.md" />
              <option name="updatedContent" value="#  VITE NOT FOUND - COMPLETE TROUBLESHOOTING&#10;&#10;## ✅ What I Just Fixed:&#10;Moved `vite` from `devDependencies` to `dependencies` in your `package.json`.&#10;&#10;**Why?** Some deployment platforms skip `devDependencies` in production, causing Vite to not be installed.&#10;&#10;---&#10;&#10;##  NOW DO THIS (Step by Step):&#10;&#10;### Step 1: Commit and Push the Fixed package.json&#10;&#10;```powershell&#10;cd &quot;C:\Users\hamza\OneDrive\Desktop\Online Course Enrolment System&quot;&#10;git add student-frontend/package.json&#10;git commit -m &quot;Move vite to dependencies for Render deployment&quot;&#10;git push origin main&#10;```&#10;&#10;---&#10;&#10;### Step 2: Check Your Render Service Type&#10;&#10;**CRITICAL:** Are you using a **Web Service** or **Static Site**?&#10;&#10;#### ✅ If You Created a STATIC SITE:&#10;&#10;Go to Render Dashboard → Your Frontend → Settings:&#10;&#10;```&#10;Root Directory:      student-frontend&#10;Build Command:       npm install &amp;&amp; npm run build&#10;Publish Directory:   dist&#10;```&#10;&#10;**No Start Command needed** - Static Sites don't use it!&#10;&#10;#### ❌ If You Created a WEB SERVICE (This is Wrong!):&#10;&#10;**You need to DELETE it and create a STATIC SITE instead!**&#10;&#10;**Why?** Frontend doesn't need a web server - it's just HTML/CSS/JS files.&#10;&#10;---&#10;&#10;### Step 3: Verify Render Configuration&#10;&#10;#### Option A: You Have a STATIC SITE (Correct)&#10;&#10;1. Go to **Render Dashboard**&#10;2. Click your frontend service&#10;3. Look at the top - it should say **&quot;Static Site&quot;** (not &quot;Web Service&quot;)&#10;4. Go to **Settings**&#10;5. Verify:&#10;   ```&#10;   Root Directory:      student-frontend&#10;   Build Command:       npm install &amp;&amp; npm run build&#10;   Publish Directory:   dist&#10;   ```&#10;6. Click **&quot;Save Changes&quot;**&#10;&#10;#### Option B: You Have a WEB SERVICE (Wrong - Fix This)&#10;&#10;**You created the wrong service type!** Here's how to fix:&#10;&#10;1. **Delete the Web Service:**&#10;   - Go to your frontend Web Service&#10;   - Settings → scroll to bottom&#10;   - Click &quot;Delete Web Service&quot;&#10;&#10;2. **Create a Static Site:**&#10;   - Dashboard → &quot;New +&quot; → **&quot;Static Site&quot;** (NOT Web Service!)&#10;   - Connect your repository&#10;   - Configure:&#10;     ```&#10;     Name: course-enrollment-frontend&#10;     Branch: main&#10;     Root Directory: student-frontend&#10;     Build Command: npm install &amp;&amp; npm run build&#10;     Publish Directory: dist&#10;     ```&#10;   - Add Environment Variable:&#10;     ```&#10;     VITE_API_BASE_URL=https://your-backend.onrender.com&#10;     ```&#10;   - Click &quot;Create Static Site&quot;&#10;&#10;---&#10;&#10;##  How to Tell What You Have&#10;&#10;### Check 1: Service Type&#10;&#10;In Render Dashboard, look at your frontend service:&#10;&#10;**Static Site:**&#10;```&#10;┌─────────────────────────────────────┐&#10;│  course-enrollment-frontend       │&#10;│ Static Site                         │ ← Should say this!&#10;└─────────────────────────────────────┘&#10;```&#10;&#10;**Web Service (WRONG):**&#10;```&#10;┌─────────────────────────────────────┐&#10;│ ️ course-enrollment-frontend       │&#10;│ Web Service                         │ ← Wrong type!&#10;└─────────────────────────────────────┘&#10;```&#10;&#10;### Check 2: Settings Available&#10;&#10;**Static Site has:**&#10;- ✅ Root Directory&#10;- ✅ Build Command&#10;- ✅ Publish Directory&#10;- ❌ NO &quot;Start Command&quot; field&#10;&#10;**Web Service has:**&#10;- ✅ Root Directory&#10;- ✅ Build Command&#10;- ✅ Start Command ← If you see this, it's a Web Service!&#10;- ❌ NO &quot;Publish Directory&quot;&#10;&#10;---&#10;&#10;##  The Most Common Issue:&#10;&#10;**You probably created a WEB SERVICE instead of a STATIC SITE!**&#10;&#10;For React frontends on Render:&#10;- ❌ **Wrong:** Web Service&#10;- ✅ **Correct:** Static Site&#10;&#10;### Why This Matters:&#10;&#10;**Web Service:**&#10;- Expects a server to run (needs start command)&#10;- Tries to run `npm start`&#10;- Charges for compute time&#10;- More complex&#10;&#10;**Static Site:**&#10;- Just builds and serves files&#10;- No start command needed&#10;- Free bandwidth&#10;- Simple and correct!&#10;&#10;---&#10;&#10;##  Complete Fix (If You Have Web Service):&#10;&#10;### 1. Delete Current Service&#10;```&#10;Render Dashboard&#10;  → Click your frontend service&#10;  → Settings&#10;  → Scroll to bottom&#10;  → &quot;Delete Web Service&quot;&#10;  → Confirm deletion&#10;```&#10;&#10;### 2. Create New Static Site&#10;```&#10;Render Dashboard&#10;  → New + → Static Site (NOT Web Service!)&#10;  → Connect GitHub repository&#10;  → Configure:&#10;     Name: course-enrollment-frontend&#10;     Branch: main&#10;     Root Directory: student-frontend&#10;     Build Command: npm install &amp;&amp; npm run build&#10;     Publish Directory: dist&#10;  → Environment:&#10;     VITE_API_BASE_URL = https://your-backend.onrender.com&#10;  → Create Static Site&#10;```&#10;&#10;### 3. Wait for Build&#10;- Takes 2-3 minutes&#10;- Check logs for success&#10;- Get your frontend URL&#10;&#10;---&#10;&#10;## ✅ After These Fixes:&#10;&#10;### What Should Happen:&#10;&#10;```bash&#10;==&gt; Cloning repository...&#10;==&gt; Entering directory student-frontend&#10;==&gt; Running 'npm install'&#10;    Added 250 packages&#10;    ✓ Installed vite@7.2.4          ← Should see this!&#10;==&gt; Running 'npm run build'&#10;    vite v7.2.4 building...&#10;    ✓ built in 3s&#10;==&gt; Deploying...&#10;✓ Deploy successful!&#10;```&#10;&#10;---&#10;&#10;##  Still Getting &quot;vite not found&quot;?&#10;&#10;### Try This Build Command Instead:&#10;&#10;```bash&#10;npm ci &amp;&amp; npm run build&#10;```&#10;&#10;**Why?** `npm ci` is stricter and ensures clean install.&#10;&#10;---&#10;&#10;##  Final Checklist&#10;&#10;- [ ] Committed and pushed updated package.json&#10;- [ ] Verified service type (should be **Static Site**)&#10;- [ ] Set Root Directory: `student-frontend`&#10;- [ ] Set Build Command: `npm install &amp;&amp; npm run build`&#10;- [ ] Set Publish Directory: `dist`&#10;- [ ] No &quot;Start Command&quot; field (Static Sites don't have this)&#10;- [ ] Added `VITE_API_BASE_URL` environment variable&#10;- [ ] Saved changes and redeployed&#10;&#10;---&#10;&#10;##  What to Do Right Now:&#10;&#10;1. **Commit the package.json change** (commands above)&#10;2. **Check if you have Static Site or Web Service**&#10;3. **If Web Service: Delete it and create Static Site**&#10;4. **If Static Site: Verify Root Directory is `student-frontend`**&#10;5. **Trigger manual deploy** (Manual Deploy → Deploy)&#10;&#10;---&#10;&#10;##  Most Likely Solution:&#10;&#10;**You need to create a STATIC SITE, not a Web Service!**&#10;&#10;That's why you're getting &quot;start command not found&quot; errors. Static Sites don't use start commands!&#10;&#10;---&#10;&#10;**After you commit the package.json change, verify your service type and reconfigure!** &#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/course-enrollment-backend/src/main/java/com/hamza/courseenrollmentsystem/config/CorsConfig.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/course-enrollment-backend/src/main/java/com/hamza/courseenrollmentsystem/config/CorsConfig.java" />
              <option name="originalContent" value="package com.hamza.courseenrollmentsystem.config;&#10;&#10;import org.springframework.beans.factory.annotation.Value;&#10;import org.springframework.context.annotation.Bean;&#10;import org.springframework.context.annotation.Configuration;&#10;import org.springframework.web.cors.CorsConfiguration;&#10;import org.springframework.web.cors.UrlBasedCorsConfigurationSource;&#10;import org.springframework.web.filter.CorsFilter;&#10;import org.springframework.web.servlet.config.annotation.CorsRegistry;&#10;import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;&#10;&#10;import java.util.Arrays;&#10;import java.util.List;&#10;&#10;@Configuration&#10;public class CorsConfig implements WebMvcConfigurer {&#10;&#10;    @Value(&quot;${allowed.origins:http://localhost:5173,http://localhost:3000,http://localhost:3001}&quot;)&#10;    private String allowedOrigins;&#10;&#10;    private List&lt;String&gt; getAllowedOriginsList() {&#10;        return Arrays.asList(allowedOrigins.split(&quot;,&quot;));&#10;    }&#10;&#10;    @Override&#10;    public void addCorsMappings(CorsRegistry registry) {&#10;        registry.addMapping(&quot;/api/**&quot;)&#10;                .allowedOrigins(getAllowedOriginsList().toArray(new String[0]))&#10;                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;, &quot;PATCH&quot;)&#10;                .allowedHeaders(&quot;*&quot;)&#10;                .allowCredentials(true)&#10;                .maxAge(3600);&#10;    }&#10;&#10;    @Bean&#10;    public CorsFilter corsFilter() {&#10;        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();&#10;        CorsConfiguration config = new CorsConfiguration();&#10;        config.setAllowCredentials(true);&#10;        config.setAllowedOrigins(getAllowedOriginsList());&#10;        config.setAllowedHeaders(Arrays.asList(&quot;*&quot;));&#10;        config.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;, &quot;PATCH&quot;));&#10;        config.setMaxAge(3600L);&#10;        source.registerCorsConfiguration(&quot;/api/**&quot;, config);&#10;        return new CorsFilter(source);&#10;    }&#10;}&#10;&#10;&#10;&#10;" />
              <option name="updatedContent" value="package com.hamza.courseenrollmentsystem.config;&#10;&#10;import org.springframework.beans.factory.annotation.Value;&#10;import org.springframework.context.annotation.Bean;&#10;import org.springframework.context.annotation.Configuration;&#10;import org.springframework.web.cors.CorsConfiguration;&#10;import org.springframework.web.cors.UrlBasedCorsConfigurationSource;&#10;import org.springframework.web.filter.CorsFilter;&#10;import org.springframework.web.servlet.config.annotation.CorsRegistry;&#10;import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;&#10;&#10;import java.util.Arrays;&#10;import java.util.List;&#10;&#10;@Configuration&#10;public class CorsConfig implements WebMvcConfigurer {&#10;&#10;    @Value(&quot;${allowed.origins:https://course-enrollment-frontend-c9mr.onrender.com}&quot;)&#10;    private String allowedOrigins;&#10;&#10;    private List&lt;String&gt; getAllowedOriginsList() {&#10;        return Arrays.asList(allowedOrigins.split(&quot;,&quot;));&#10;    }&#10;&#10;    @Override&#10;    public void addCorsMappings(CorsRegistry registry) {&#10;        registry.addMapping(&quot;/api/**&quot;)&#10;                .allowedOrigins(getAllowedOriginsList().toArray(new String[0]))&#10;                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;, &quot;PATCH&quot;)&#10;                .allowedHeaders(&quot;*&quot;)&#10;                .allowCredentials(true)&#10;                .maxAge(3600);&#10;    }&#10;&#10;    @Bean&#10;    public CorsFilter corsFilter() {&#10;        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();&#10;        CorsConfiguration config = new CorsConfiguration();&#10;        config.setAllowCredentials(true);&#10;        config.setAllowedOrigins(getAllowedOriginsList());&#10;        config.setAllowedHeaders(Arrays.asList(&quot;*&quot;));&#10;        config.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;, &quot;PATCH&quot;));&#10;        config.setMaxAge(3600L);&#10;        source.registerCorsConfiguration(&quot;/api/**&quot;, config);&#10;        return new CorsFilter(source);&#10;    }&#10;}&#10;&#10;&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/course-enrollment-backend/src/main/java/com/hamza/courseenrollmentsystem/controller/AuthController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/course-enrollment-backend/src/main/java/com/hamza/courseenrollmentsystem/controller/AuthController.java" />
              <option name="originalContent" value="package com.hamza.courseenrollmentsystem.controller;&#10;&#10;import com.hamza.courseenrollmentsystem.entity.User;&#10;import com.hamza.courseenrollmentsystem.service.UserService;&#10;import org.springframework.beans.factory.annotation.Autowired;&#10;import org.springframework.http.HttpStatus;&#10;import org.springframework.http.ResponseEntity;&#10;import org.springframework.web.bind.annotation.*;&#10;&#10;import java.util.HashMap;&#10;import java.util.Map;&#10;import java.util.Optional;&#10;&#10;@RestController&#10;@RequestMapping(&quot;/api/auth&quot;)&#10;@CrossOrigin(origins = &quot;http://localhost:5173&quot;, allowCredentials = &quot;true&quot;)&#10;public class AuthController {&#10;&#10;    @Autowired&#10;    private UserService userService;&#10;&#10;    @PostMapping(&quot;/register&quot;)&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; register(@RequestBody User user) {&#10;        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#10;        if (userService.findByEmail(user.getEmail()).isPresent()) {&#10;            response.put(&quot;success&quot;, false);&#10;            response.put(&quot;message&quot;, &quot;Email already exists!&quot;);&#10;            return ResponseEntity.badRequest().body(response);&#10;        }&#10;        User registeredUser = userService.registerUser(user);&#10;        response.put(&quot;success&quot;, true);&#10;        response.put(&quot;message&quot;, &quot;User registered successfully!&quot;);&#10;        response.put(&quot;userId&quot;, registeredUser.getId());&#10;        return ResponseEntity.ok(response);&#10;    }&#10;&#10;    @PostMapping(&quot;/login&quot;)&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; login(@RequestBody User loginRequest) {&#10;        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#10;        Optional&lt;User&gt; userOptional = userService.findByEmail(loginRequest.getEmail());&#10;&#10;        if (userOptional.isEmpty()) {&#10;            response.put(&quot;success&quot;, false);&#10;            response.put(&quot;message&quot;, &quot;User not found!&quot;);&#10;            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(response);&#10;        }&#10;&#10;        User user = userOptional.get();&#10;        if (userService.checkPassword(loginRequest.getPassword(), user.getPassword())) {&#10;            response.put(&quot;success&quot;, true);&#10;            response.put(&quot;message&quot;, &quot;Login successful! Welcome &quot; + user.getUsername());&#10;            response.put(&quot;studentId&quot;, user.getId());&#10;            response.put(&quot;id&quot;, user.getId());&#10;            response.put(&quot;username&quot;, user.getUsername());&#10;            response.put(&quot;email&quot;, user.getEmail());&#10;            response.put(&quot;role&quot;, user.getRole());&#10;            return ResponseEntity.ok(response);&#10;        } else {&#10;            response.put(&quot;success&quot;, false);&#10;            response.put(&quot;message&quot;, &quot;Invalid password!&quot;);&#10;            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(response);&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.hamza.courseenrollmentsystem.controller;&#13;&#10;&#13;&#10;import com.hamza.courseenrollmentsystem.entity.User;&#13;&#10;import com.hamza.courseenrollmentsystem.service.UserService;&#13;&#10;import org.springframework.beans.factory.annotation.Autowired;&#13;&#10;import org.springframework.http.HttpStatus;&#13;&#10;import org.springframework.http.ResponseEntity;&#13;&#10;import org.springframework.web.bind.annotation.*;&#13;&#10;&#13;&#10;import java.util.HashMap;&#13;&#10;import java.util.Map;&#13;&#10;import java.util.Optional;&#13;&#10;&#13;&#10;@RestController&#13;&#10;@RequestMapping(&quot;/api/auth&quot;)&#13;&#10;@CrossOrigin(origins = &quot;https://course-enrollment-frontend-c9mr.onrender.com&quot;, allowCredentials = &quot;true&quot;)&#13;&#10;public class AuthController {&#13;&#10;&#13;&#10;    @Autowired&#13;&#10;    private UserService userService;&#13;&#10;&#13;&#10;    @PostMapping(&quot;/register&quot;)&#13;&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; register(@RequestBody User user) {&#13;&#10;        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#13;&#10;        if (userService.findByEmail(user.getEmail()).isPresent()) {&#13;&#10;            response.put(&quot;success&quot;, false);&#13;&#10;            response.put(&quot;message&quot;, &quot;Email already exists!&quot;);&#13;&#10;            return ResponseEntity.badRequest().body(response);&#13;&#10;        }&#13;&#10;        User registeredUser = userService.registerUser(user);&#13;&#10;        response.put(&quot;success&quot;, true);&#13;&#10;        response.put(&quot;message&quot;, &quot;User registered successfully!&quot;);&#13;&#10;        response.put(&quot;userId&quot;, registeredUser.getId());&#13;&#10;        return ResponseEntity.ok(response);&#13;&#10;    }&#13;&#10;&#13;&#10;    @PostMapping(&quot;/login&quot;)&#13;&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; login(@RequestBody User loginRequest) {&#13;&#10;        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#13;&#10;        Optional&lt;User&gt; userOptional = userService.findByEmail(loginRequest.getEmail());&#13;&#10;&#13;&#10;        if (userOptional.isEmpty()) {&#13;&#10;            response.put(&quot;success&quot;, false);&#13;&#10;            response.put(&quot;message&quot;, &quot;User not found!&quot;);&#13;&#10;            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(response);&#13;&#10;        }&#13;&#10;&#13;&#10;        User user = userOptional.get();&#13;&#10;        if (userService.checkPassword(loginRequest.getPassword(), user.getPassword())) {&#13;&#10;            response.put(&quot;success&quot;, true);&#13;&#10;            response.put(&quot;message&quot;, &quot;Login successful! Welcome &quot; + user.getUsername());&#13;&#10;            response.put(&quot;studentId&quot;, user.getId());&#13;&#10;            response.put(&quot;id&quot;, user.getId());&#13;&#10;            response.put(&quot;username&quot;, user.getUsername());&#13;&#10;            response.put(&quot;email&quot;, user.getEmail());&#13;&#10;            response.put(&quot;role&quot;, user.getRole());&#13;&#10;            return ResponseEntity.ok(response);&#13;&#10;        } else {&#13;&#10;            response.put(&quot;success&quot;, false);&#13;&#10;            response.put(&quot;message&quot;, &quot;Invalid password!&quot;);&#13;&#10;            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(response);&#13;&#10;        }&#13;&#10;    }&#13;&#10;}&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/course-enrollment-backend/src/main/java/com/hamza/courseenrollmentsystem/controller/api/CategoryRestController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/course-enrollment-backend/src/main/java/com/hamza/courseenrollmentsystem/controller/api/CategoryRestController.java" />
              <option name="originalContent" value="package com.hamza.courseenrollmentsystem.controller.api;&#10;&#10;import com.hamza.courseenrollmentsystem.dto.CategoryDto;&#10;import com.hamza.courseenrollmentsystem.service.CategoryService;&#10;import jakarta.validation.Valid;&#10;import org.springframework.http.HttpStatus;&#10;import org.springframework.http.ResponseEntity;&#10;import org.springframework.web.bind.annotation.*;&#10;&#10;import java.util.HashMap;&#10;import java.util.List;&#10;import java.util.Map;&#10;&#10;@RestController&#10;@RequestMapping(&quot;/api/categories&quot;)&#10;@CrossOrigin(origins = {&quot;http://localhost:3000&quot;, &quot;http://localhost:5173&quot;}, allowCredentials = &quot;true&quot;)&#10;public class CategoryRestController {&#10;&#10;    private final CategoryService categoryService;&#10;&#10;    public CategoryRestController(CategoryService categoryService) {&#10;        this.categoryService = categoryService;&#10;    }&#10;&#10;    @GetMapping&#10;    public ResponseEntity&lt;List&lt;CategoryDto&gt;&gt; getAllCategories() {&#10;        List&lt;CategoryDto&gt; categories = categoryService.findAll();&#10;        return ResponseEntity.ok(categories);&#10;    }&#10;&#10;    @GetMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;CategoryDto&gt; getCategoryById(@PathVariable Long id) {&#10;        try {&#10;            CategoryDto category = categoryService.findById(id);&#10;            return ResponseEntity.ok(category);&#10;        } catch (RuntimeException e) {&#10;            return ResponseEntity.notFound().build();&#10;        }&#10;    }&#10;&#10;    @PostMapping&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; createCategory(@Valid @RequestBody CategoryDto categoryDto) {&#10;        try {&#10;            CategoryDto createdCategory = categoryService.create(categoryDto);&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#10;            response.put(&quot;success&quot;, true);&#10;            response.put(&quot;message&quot;, &quot;Category created successfully&quot;);&#10;            response.put(&quot;data&quot;, createdCategory);&#10;            return ResponseEntity.status(HttpStatus.CREATED).body(response);&#10;        } catch (RuntimeException e) {&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#10;            response.put(&quot;success&quot;, false);&#10;            response.put(&quot;message&quot;, e.getMessage());&#10;            return ResponseEntity.badRequest().body(response);&#10;        }&#10;    }&#10;&#10;    @PutMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; updateCategory(&#10;            @PathVariable Long id,&#10;            @Valid @RequestBody CategoryDto categoryDto) {&#10;        try {&#10;            CategoryDto updatedCategory = categoryService.update(id, categoryDto);&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#10;            response.put(&quot;success&quot;, true);&#10;            response.put(&quot;message&quot;, &quot;Category updated successfully&quot;);&#10;            response.put(&quot;data&quot;, updatedCategory);&#10;            return ResponseEntity.ok(response);&#10;        } catch (RuntimeException e) {&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#10;            response.put(&quot;success&quot;, false);&#10;            response.put(&quot;message&quot;, e.getMessage());&#10;            return ResponseEntity.badRequest().body(response);&#10;        }&#10;    }&#10;&#10;    @DeleteMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; deleteCategory(@PathVariable Long id) {&#10;        try {&#10;            categoryService.delete(id);&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#10;            response.put(&quot;success&quot;, true);&#10;            response.put(&quot;message&quot;, &quot;Category deleted successfully&quot;);&#10;            return ResponseEntity.ok(response);&#10;        } catch (RuntimeException e) {&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#10;            response.put(&quot;success&quot;, false);&#10;            response.put(&quot;message&quot;, e.getMessage());&#10;            return ResponseEntity.badRequest().body(response);&#10;        }&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.hamza.courseenrollmentsystem.controller.api;&#13;&#10;&#13;&#10;import com.hamza.courseenrollmentsystem.dto.CategoryDto;&#13;&#10;import com.hamza.courseenrollmentsystem.service.CategoryService;&#13;&#10;import jakarta.validation.Valid;&#13;&#10;import org.springframework.http.HttpStatus;&#13;&#10;import org.springframework.http.ResponseEntity;&#13;&#10;import org.springframework.web.bind.annotation.*;&#13;&#10;&#13;&#10;import java.util.HashMap;&#13;&#10;import java.util.List;&#13;&#10;import java.util.Map;&#13;&#10;&#13;&#10;@RestController&#13;&#10;@RequestMapping(&quot;/api/categories&quot;)&#13;&#10;@CrossOrigin(origins = &quot;https://course-enrollment-frontend-c9mr.onrender.com&quot;, allowCredentials = &quot;true&quot;)&#13;&#10;public class CategoryRestController {&#13;&#10;&#13;&#10;    private final CategoryService categoryService;&#13;&#10;&#13;&#10;    public CategoryRestController(CategoryService categoryService) {&#13;&#10;        this.categoryService = categoryService;&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping&#13;&#10;    public ResponseEntity&lt;List&lt;CategoryDto&gt;&gt; getAllCategories() {&#13;&#10;        List&lt;CategoryDto&gt; categories = categoryService.findAll();&#13;&#10;        return ResponseEntity.ok(categories);&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping(&quot;/{id}&quot;)&#13;&#10;    public ResponseEntity&lt;CategoryDto&gt; getCategoryById(@PathVariable Long id) {&#13;&#10;        try {&#13;&#10;            CategoryDto category = categoryService.findById(id);&#13;&#10;            return ResponseEntity.ok(category);&#13;&#10;        } catch (RuntimeException e) {&#13;&#10;            return ResponseEntity.notFound().build();&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    @PostMapping&#13;&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; createCategory(@Valid @RequestBody CategoryDto categoryDto) {&#13;&#10;        try {&#13;&#10;            CategoryDto createdCategory = categoryService.create(categoryDto);&#13;&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#13;&#10;            response.put(&quot;success&quot;, true);&#13;&#10;            response.put(&quot;message&quot;, &quot;Category created successfully&quot;);&#13;&#10;            response.put(&quot;data&quot;, createdCategory);&#13;&#10;            return ResponseEntity.status(HttpStatus.CREATED).body(response);&#13;&#10;        } catch (RuntimeException e) {&#13;&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#13;&#10;            response.put(&quot;success&quot;, false);&#13;&#10;            response.put(&quot;message&quot;, e.getMessage());&#13;&#10;            return ResponseEntity.badRequest().body(response);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    @PutMapping(&quot;/{id}&quot;)&#13;&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; updateCategory(&#13;&#10;            @PathVariable Long id,&#13;&#10;            @Valid @RequestBody CategoryDto categoryDto) {&#13;&#10;        try {&#13;&#10;            CategoryDto updatedCategory = categoryService.update(id, categoryDto);&#13;&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#13;&#10;            response.put(&quot;success&quot;, true);&#13;&#10;            response.put(&quot;message&quot;, &quot;Category updated successfully&quot;);&#13;&#10;            response.put(&quot;data&quot;, updatedCategory);&#13;&#10;            return ResponseEntity.ok(response);&#13;&#10;        } catch (RuntimeException e) {&#13;&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#13;&#10;            response.put(&quot;success&quot;, false);&#13;&#10;            response.put(&quot;message&quot;, e.getMessage());&#13;&#10;            return ResponseEntity.badRequest().body(response);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    @DeleteMapping(&quot;/{id}&quot;)&#13;&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; deleteCategory(@PathVariable Long id) {&#13;&#10;        try {&#13;&#10;            categoryService.delete(id);&#13;&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#13;&#10;            response.put(&quot;success&quot;, true);&#13;&#10;            response.put(&quot;message&quot;, &quot;Category deleted successfully&quot;);&#13;&#10;            return ResponseEntity.ok(response);&#13;&#10;        } catch (RuntimeException e) {&#13;&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#13;&#10;            response.put(&quot;success&quot;, false);&#13;&#10;            response.put(&quot;message&quot;, e.getMessage());&#13;&#10;            return ResponseEntity.badRequest().body(response);&#13;&#10;        }&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/course-enrollment-backend/src/main/java/com/hamza/courseenrollmentsystem/controller/api/CourseRestController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/course-enrollment-backend/src/main/java/com/hamza/courseenrollmentsystem/controller/api/CourseRestController.java" />
              <option name="originalContent" value="package com.hamza.courseenrollmentsystem.controller.api;&#10;&#10;import com.hamza.courseenrollmentsystem.dto.CourseDto;&#10;import com.hamza.courseenrollmentsystem.service.CourseService;&#10;import jakarta.validation.Valid;&#10;import org.springframework.http.HttpStatus;&#10;import org.springframework.http.ResponseEntity;&#10;import org.springframework.web.bind.annotation.*;&#10;&#10;import java.util.HashMap;&#10;import java.util.List;&#10;import java.util.Map;&#10;&#10;@RestController&#10;@RequestMapping(&quot;/api/courses&quot;)&#10;@CrossOrigin(origins = &quot;http://localhost:3000&quot;, allowCredentials = &quot;true&quot;)&#10;public class CourseRestController {&#10;&#10;    private final CourseService courseService;&#10;&#10;    public CourseRestController(CourseService courseService) {&#10;        this.courseService = courseService;&#10;    }&#10;&#10;    @GetMapping&#10;    public ResponseEntity&lt;List&lt;CourseDto&gt;&gt; getAllCourses() {&#10;        List&lt;CourseDto&gt; courses = courseService.findAll();&#10;        return ResponseEntity.ok(courses);&#10;    }&#10;&#10;    @GetMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;CourseDto&gt; getCourseById(@PathVariable Long id) {&#10;        try {&#10;            CourseDto course = courseService.findById(id);&#10;            return ResponseEntity.ok(course);&#10;        } catch (RuntimeException e) {&#10;            return ResponseEntity.notFound().build();&#10;        }&#10;    }&#10;&#10;    @GetMapping(&quot;/category/{categoryId}&quot;)&#10;    public ResponseEntity&lt;List&lt;CourseDto&gt;&gt; getCoursesByCategory(@PathVariable Long categoryId) {&#10;        List&lt;CourseDto&gt; courses = courseService.findByCategoryId(categoryId);&#10;        return ResponseEntity.ok(courses);&#10;    }&#10;&#10;    @PostMapping&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; createCourse(@Valid @RequestBody CourseDto courseDto) {&#10;        try {&#10;            CourseDto createdCourse = courseService.create(courseDto);&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#10;            response.put(&quot;success&quot;, true);&#10;            response.put(&quot;message&quot;, &quot;Course created successfully&quot;);&#10;            response.put(&quot;data&quot;, createdCourse);&#10;            return ResponseEntity.status(HttpStatus.CREATED).body(response);&#10;        } catch (RuntimeException e) {&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#10;            response.put(&quot;success&quot;, false);&#10;            response.put(&quot;message&quot;, e.getMessage());&#10;            return ResponseEntity.badRequest().body(response);&#10;        }&#10;    }&#10;&#10;    @PutMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; updateCourse(&#10;            @PathVariable Long id,&#10;            @Valid @RequestBody CourseDto courseDto) {&#10;        try {&#10;            CourseDto updatedCourse = courseService.update(id, courseDto);&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#10;            response.put(&quot;success&quot;, true);&#10;            response.put(&quot;message&quot;, &quot;Course updated successfully&quot;);&#10;            response.put(&quot;data&quot;, updatedCourse);&#10;            return ResponseEntity.ok(response);&#10;        } catch (RuntimeException e) {&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#10;            response.put(&quot;success&quot;, false);&#10;            response.put(&quot;message&quot;, e.getMessage());&#10;            return ResponseEntity.badRequest().body(response);&#10;        }&#10;    }&#10;&#10;    @DeleteMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; deleteCourse(@PathVariable Long id) {&#10;        try {&#10;            courseService.delete(id);&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#10;            response.put(&quot;success&quot;, true);&#10;            response.put(&quot;message&quot;, &quot;Course deleted successfully&quot;);&#10;            return ResponseEntity.ok(response);&#10;        } catch (RuntimeException e) {&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#10;            response.put(&quot;success&quot;, false);&#10;            response.put(&quot;message&quot;, e.getMessage());&#10;            return ResponseEntity.badRequest().body(response);&#10;        }&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.hamza.courseenrollmentsystem.controller.api;&#13;&#10;&#13;&#10;import com.hamza.courseenrollmentsystem.dto.CourseDto;&#13;&#10;import com.hamza.courseenrollmentsystem.service.CourseService;&#13;&#10;import jakarta.validation.Valid;&#13;&#10;import org.springframework.http.HttpStatus;&#13;&#10;import org.springframework.http.ResponseEntity;&#13;&#10;import org.springframework.web.bind.annotation.*;&#13;&#10;&#13;&#10;import java.util.HashMap;&#13;&#10;import java.util.List;&#13;&#10;import java.util.Map;&#13;&#10;&#13;&#10;@RestController&#13;&#10;@RequestMapping(&quot;/api/courses&quot;)&#13;&#10;@CrossOrigin(origins = &quot;https://course-enrollment-frontend-c9mr.onrender.com&quot;, allowCredentials = &quot;true&quot;)&#13;&#10;public class CourseRestController {&#13;&#10;&#13;&#10;    private final CourseService courseService;&#13;&#10;&#13;&#10;    public CourseRestController(CourseService courseService) {&#13;&#10;        this.courseService = courseService;&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping&#13;&#10;    public ResponseEntity&lt;List&lt;CourseDto&gt;&gt; getAllCourses() {&#13;&#10;        List&lt;CourseDto&gt; courses = courseService.findAll();&#13;&#10;        return ResponseEntity.ok(courses);&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping(&quot;/{id}&quot;)&#13;&#10;    public ResponseEntity&lt;CourseDto&gt; getCourseById(@PathVariable Long id) {&#13;&#10;        try {&#13;&#10;            CourseDto course = courseService.findById(id);&#13;&#10;            return ResponseEntity.ok(course);&#13;&#10;        } catch (RuntimeException e) {&#13;&#10;            return ResponseEntity.notFound().build();&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping(&quot;/category/{categoryId}&quot;)&#13;&#10;    public ResponseEntity&lt;List&lt;CourseDto&gt;&gt; getCoursesByCategory(@PathVariable Long categoryId) {&#13;&#10;        List&lt;CourseDto&gt; courses = courseService.findByCategoryId(categoryId);&#13;&#10;        return ResponseEntity.ok(courses);&#13;&#10;    }&#13;&#10;&#13;&#10;    @PostMapping&#13;&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; createCourse(@Valid @RequestBody CourseDto courseDto) {&#13;&#10;        try {&#13;&#10;            CourseDto createdCourse = courseService.create(courseDto);&#13;&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#13;&#10;            response.put(&quot;success&quot;, true);&#13;&#10;            response.put(&quot;message&quot;, &quot;Course created successfully&quot;);&#13;&#10;            response.put(&quot;data&quot;, createdCourse);&#13;&#10;            return ResponseEntity.status(HttpStatus.CREATED).body(response);&#13;&#10;        } catch (RuntimeException e) {&#13;&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#13;&#10;            response.put(&quot;success&quot;, false);&#13;&#10;            response.put(&quot;message&quot;, e.getMessage());&#13;&#10;            return ResponseEntity.badRequest().body(response);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    @PutMapping(&quot;/{id}&quot;)&#13;&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; updateCourse(&#13;&#10;            @PathVariable Long id,&#13;&#10;            @Valid @RequestBody CourseDto courseDto) {&#13;&#10;        try {&#13;&#10;            CourseDto updatedCourse = courseService.update(id, courseDto);&#13;&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#13;&#10;            response.put(&quot;success&quot;, true);&#13;&#10;            response.put(&quot;message&quot;, &quot;Course updated successfully&quot;);&#13;&#10;            response.put(&quot;data&quot;, updatedCourse);&#13;&#10;            return ResponseEntity.ok(response);&#13;&#10;        } catch (RuntimeException e) {&#13;&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#13;&#10;            response.put(&quot;success&quot;, false);&#13;&#10;            response.put(&quot;message&quot;, e.getMessage());&#13;&#10;            return ResponseEntity.badRequest().body(response);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    @DeleteMapping(&quot;/{id}&quot;)&#13;&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; deleteCourse(@PathVariable Long id) {&#13;&#10;        try {&#13;&#10;            courseService.delete(id);&#13;&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#13;&#10;            response.put(&quot;success&quot;, true);&#13;&#10;            response.put(&quot;message&quot;, &quot;Course deleted successfully&quot;);&#13;&#10;            return ResponseEntity.ok(response);&#13;&#10;        } catch (RuntimeException e) {&#13;&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#13;&#10;            response.put(&quot;success&quot;, false);&#13;&#10;            response.put(&quot;message&quot;, e.getMessage());&#13;&#10;            return ResponseEntity.badRequest().body(response);&#13;&#10;        }&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/course-enrollment-backend/src/main/java/com/hamza/courseenrollmentsystem/controller/api/StudentRestController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/course-enrollment-backend/src/main/java/com/hamza/courseenrollmentsystem/controller/api/StudentRestController.java" />
              <option name="originalContent" value="package com.hamza.courseenrollmentsystem.controller.api;&#10;&#10;import com.hamza.courseenrollmentsystem.dto.CourseDto;&#10;import com.hamza.courseenrollmentsystem.entity.Course;&#10;import com.hamza.courseenrollmentsystem.entity.Enrollment;&#10;import com.hamza.courseenrollmentsystem.entity.User;&#10;import com.hamza.courseenrollmentsystem.repository.CourseRepository;&#10;import com.hamza.courseenrollmentsystem.repository.EnrollmentRepository;&#10;import com.hamza.courseenrollmentsystem.repository.UserRepository;&#10;import org.springframework.http.HttpStatus;&#10;import org.springframework.http.ResponseEntity;&#10;import org.springframework.web.bind.annotation.*;&#10;&#10;import java.time.LocalDateTime;&#10;import java.util.HashMap;&#10;import java.util.List;&#10;import java.util.Map;&#10;import java.util.stream.Collectors;&#10;&#10;@RestController&#10;@RequestMapping(&quot;/api/students&quot;)&#10;@CrossOrigin(origins = &quot;http://localhost:5173&quot;, allowCredentials = &quot;true&quot;)&#10;public class StudentRestController {&#10;&#10;    private final UserRepository userRepository;&#10;    private final CourseRepository courseRepository;&#10;    private final EnrollmentRepository enrollmentRepository;&#10;&#10;    public StudentRestController(UserRepository userRepository,&#10;                                  CourseRepository courseRepository,&#10;                                  EnrollmentRepository enrollmentRepository) {&#10;        this.userRepository = userRepository;&#10;        this.courseRepository = courseRepository;&#10;        this.enrollmentRepository = enrollmentRepository;&#10;    }&#10;&#10;    @GetMapping(&quot;/{studentId}&quot;)&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; getStudentInfo(@PathVariable Long studentId) {&#10;        try {&#10;            User student = userRepository.findById(studentId)&#10;                    .orElseThrow(() -&gt; new RuntimeException(&quot;Student not found&quot;));&#10;&#10;            Map&lt;String, Object&gt; studentInfo = new HashMap&lt;&gt;();&#10;            studentInfo.put(&quot;id&quot;, student.getId());&#10;            studentInfo.put(&quot;username&quot;, student.getUsername());&#10;            studentInfo.put(&quot;email&quot;, student.getEmail());&#10;            studentInfo.put(&quot;role&quot;, student.getRole());&#10;&#10;            return ResponseEntity.ok(studentInfo);&#10;        } catch (RuntimeException e) {&#10;            return ResponseEntity.status(HttpStatus.NOT_FOUND).build();&#10;        }&#10;    }&#10;&#10;    @GetMapping(&quot;/{studentId}/courses&quot;)&#10;    public ResponseEntity&lt;List&lt;CourseDto&gt;&gt; getStudentCourses(@PathVariable Long studentId) {&#10;        try {&#10;            User student = userRepository.findById(studentId)&#10;                    .orElseThrow(() -&gt; new RuntimeException(&quot;Student not found&quot;));&#10;&#10;            List&lt;CourseDto&gt; enrolledCourses = student.getEnrollments().stream()&#10;                    .map(enrollment -&gt; {&#10;                        Course course = enrollment.getCourse();&#10;                        CourseDto dto = new CourseDto();&#10;                        dto.setId(course.getId());&#10;                        dto.setTitle(course.getTitle());&#10;                        dto.setDescription(course.getDescription());&#10;                        dto.setInstructorApiId(course.getInstructorApiId());&#10;                        dto.setCategoryId(course.getCategory().getId());&#10;                        dto.setCategoryName(course.getCategory().getName());&#10;                        return dto;&#10;                    })&#10;                    .collect(Collectors.toList());&#10;&#10;            return ResponseEntity.ok(enrolledCourses);&#10;        } catch (RuntimeException e) {&#10;            return ResponseEntity.status(HttpStatus.NOT_FOUND).build();&#10;        }&#10;    }&#10;&#10;    @PostMapping(&quot;/{studentId}/enroll/{courseId}&quot;)&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; enrollInCourse(&#10;            @PathVariable Long studentId,&#10;            @PathVariable Long courseId) {&#10;        try {&#10;            User student = userRepository.findById(studentId)&#10;                    .orElseThrow(() -&gt; new RuntimeException(&quot;Student not found&quot;));&#10;&#10;            Course course = courseRepository.findById(courseId)&#10;                    .orElseThrow(() -&gt; new RuntimeException(&quot;Course not found&quot;));&#10;&#10;            // Check if already enrolled&#10;            boolean alreadyEnrolled = student.getEnrollments().stream()&#10;                    .anyMatch(e -&gt; e.getCourse().getId().equals(courseId));&#10;&#10;            if (alreadyEnrolled) {&#10;                Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#10;                response.put(&quot;success&quot;, false);&#10;                response.put(&quot;message&quot;, &quot;Already enrolled in this course&quot;);&#10;                return ResponseEntity.badRequest().body(response);&#10;            }&#10;&#10;            // Create new enrollment&#10;            Enrollment enrollment = new Enrollment();&#10;            enrollment.setUser(student);&#10;            enrollment.setCourse(course);&#10;            enrollment.setEnrollmentDate(LocalDateTime.now());&#10;            enrollmentRepository.save(enrollment);&#10;&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#10;            response.put(&quot;success&quot;, true);&#10;            response.put(&quot;message&quot;, &quot;Successfully enrolled in course&quot;);&#10;            return ResponseEntity.ok(response);&#10;        } catch (RuntimeException e) {&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#10;            response.put(&quot;success&quot;, false);&#10;            response.put(&quot;message&quot;, e.getMessage());&#10;            return ResponseEntity.badRequest().body(response);&#10;        }&#10;    }&#10;&#10;    @DeleteMapping(&quot;/{studentId}/unenroll/{courseId}&quot;)&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; unenrollFromCourse(&#10;            @PathVariable Long studentId,&#10;            @PathVariable Long courseId) {&#10;        try {&#10;            User student = userRepository.findById(studentId)&#10;                    .orElseThrow(() -&gt; new RuntimeException(&quot;Student not found&quot;));&#10;&#10;            Enrollment enrollment = student.getEnrollments().stream()&#10;                    .filter(e -&gt; e.getCourse().getId().equals(courseId))&#10;                    .findFirst()&#10;                    .orElseThrow(() -&gt; new RuntimeException(&quot;Not enrolled in this course&quot;));&#10;&#10;            enrollmentRepository.delete(enrollment);&#10;&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#10;            response.put(&quot;success&quot;, true);&#10;            response.put(&quot;message&quot;, &quot;Successfully unenrolled from course&quot;);&#10;            return ResponseEntity.ok(response);&#10;        } catch (RuntimeException e) {&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#10;            response.put(&quot;success&quot;, false);&#10;            response.put(&quot;message&quot;, e.getMessage());&#10;            return ResponseEntity.badRequest().body(response);&#10;        }&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.hamza.courseenrollmentsystem.controller.api;&#13;&#10;&#13;&#10;import com.hamza.courseenrollmentsystem.dto.CourseDto;&#13;&#10;import com.hamza.courseenrollmentsystem.entity.Course;&#13;&#10;import com.hamza.courseenrollmentsystem.entity.Enrollment;&#13;&#10;import com.hamza.courseenrollmentsystem.entity.User;&#13;&#10;import com.hamza.courseenrollmentsystem.repository.CourseRepository;&#13;&#10;import com.hamza.courseenrollmentsystem.repository.EnrollmentRepository;&#13;&#10;import com.hamza.courseenrollmentsystem.repository.UserRepository;&#13;&#10;import org.springframework.http.HttpStatus;&#13;&#10;import org.springframework.http.ResponseEntity;&#13;&#10;import org.springframework.web.bind.annotation.*;&#13;&#10;&#13;&#10;import java.time.LocalDateTime;&#13;&#10;import java.util.HashMap;&#13;&#10;import java.util.List;&#13;&#10;import java.util.Map;&#13;&#10;import java.util.stream.Collectors;&#13;&#10;&#13;&#10;@RestController&#13;&#10;@RequestMapping(&quot;/api/students&quot;)&#13;&#10;@CrossOrigin(origins = &quot;https://course-enrollment-frontend-c9mr.onrender.com&quot;, allowCredentials = &quot;true&quot;)&#13;&#10;public class StudentRestController {&#13;&#10;&#13;&#10;    private final UserRepository userRepository;&#13;&#10;    private final CourseRepository courseRepository;&#13;&#10;    private final EnrollmentRepository enrollmentRepository;&#13;&#10;&#13;&#10;    public StudentRestController(UserRepository userRepository,&#13;&#10;                                  CourseRepository courseRepository,&#13;&#10;                                  EnrollmentRepository enrollmentRepository) {&#13;&#10;        this.userRepository = userRepository;&#13;&#10;        this.courseRepository = courseRepository;&#13;&#10;        this.enrollmentRepository = enrollmentRepository;&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping(&quot;/{studentId}&quot;)&#13;&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; getStudentInfo(@PathVariable Long studentId) {&#13;&#10;        try {&#13;&#10;            User student = userRepository.findById(studentId)&#13;&#10;                    .orElseThrow(() -&gt; new RuntimeException(&quot;Student not found&quot;));&#13;&#10;&#13;&#10;            Map&lt;String, Object&gt; studentInfo = new HashMap&lt;&gt;();&#13;&#10;            studentInfo.put(&quot;id&quot;, student.getId());&#13;&#10;            studentInfo.put(&quot;username&quot;, student.getUsername());&#13;&#10;            studentInfo.put(&quot;email&quot;, student.getEmail());&#13;&#10;            studentInfo.put(&quot;role&quot;, student.getRole());&#13;&#10;&#13;&#10;            return ResponseEntity.ok(studentInfo);&#13;&#10;        } catch (RuntimeException e) {&#13;&#10;            return ResponseEntity.status(HttpStatus.NOT_FOUND).build();&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    @GetMapping(&quot;/{studentId}/courses&quot;)&#13;&#10;    public ResponseEntity&lt;List&lt;CourseDto&gt;&gt; getStudentCourses(@PathVariable Long studentId) {&#13;&#10;        try {&#13;&#10;            User student = userRepository.findById(studentId)&#13;&#10;                    .orElseThrow(() -&gt; new RuntimeException(&quot;Student not found&quot;));&#13;&#10;&#13;&#10;            List&lt;CourseDto&gt; enrolledCourses = student.getEnrollments().stream()&#13;&#10;                    .map(enrollment -&gt; {&#13;&#10;                        Course course = enrollment.getCourse();&#13;&#10;                        CourseDto dto = new CourseDto();&#13;&#10;                        dto.setId(course.getId());&#13;&#10;                        dto.setTitle(course.getTitle());&#13;&#10;                        dto.setDescription(course.getDescription());&#13;&#10;                        dto.setInstructorApiId(course.getInstructorApiId());&#13;&#10;                        dto.setCategoryId(course.getCategory().getId());&#13;&#10;                        dto.setCategoryName(course.getCategory().getName());&#13;&#10;                        return dto;&#13;&#10;                    })&#13;&#10;                    .collect(Collectors.toList());&#13;&#10;&#13;&#10;            return ResponseEntity.ok(enrolledCourses);&#13;&#10;        } catch (RuntimeException e) {&#13;&#10;            return ResponseEntity.status(HttpStatus.NOT_FOUND).build();&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    @PostMapping(&quot;/{studentId}/enroll/{courseId}&quot;)&#13;&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; enrollInCourse(&#13;&#10;            @PathVariable Long studentId,&#13;&#10;            @PathVariable Long courseId) {&#13;&#10;        try {&#13;&#10;            User student = userRepository.findById(studentId)&#13;&#10;                    .orElseThrow(() -&gt; new RuntimeException(&quot;Student not found&quot;));&#13;&#10;&#13;&#10;            Course course = courseRepository.findById(courseId)&#13;&#10;                    .orElseThrow(() -&gt; new RuntimeException(&quot;Course not found&quot;));&#13;&#10;&#13;&#10;            // Check if already enrolled&#13;&#10;            boolean alreadyEnrolled = student.getEnrollments().stream()&#13;&#10;                    .anyMatch(e -&gt; e.getCourse().getId().equals(courseId));&#13;&#10;&#13;&#10;            if (alreadyEnrolled) {&#13;&#10;                Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#13;&#10;                response.put(&quot;success&quot;, false);&#13;&#10;                response.put(&quot;message&quot;, &quot;Already enrolled in this course&quot;);&#13;&#10;                return ResponseEntity.badRequest().body(response);&#13;&#10;            }&#13;&#10;&#13;&#10;            // Create new enrollment&#13;&#10;            Enrollment enrollment = new Enrollment();&#13;&#10;            enrollment.setUser(student);&#13;&#10;            enrollment.setCourse(course);&#13;&#10;            enrollment.setEnrollmentDate(LocalDateTime.now());&#13;&#10;            enrollmentRepository.save(enrollment);&#13;&#10;&#13;&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#13;&#10;            response.put(&quot;success&quot;, true);&#13;&#10;            response.put(&quot;message&quot;, &quot;Successfully enrolled in course&quot;);&#13;&#10;            return ResponseEntity.ok(response);&#13;&#10;        } catch (RuntimeException e) {&#13;&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#13;&#10;            response.put(&quot;success&quot;, false);&#13;&#10;            response.put(&quot;message&quot;, e.getMessage());&#13;&#10;            return ResponseEntity.badRequest().body(response);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    @DeleteMapping(&quot;/{studentId}/unenroll/{courseId}&quot;)&#13;&#10;    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; unenrollFromCourse(&#13;&#10;            @PathVariable Long studentId,&#13;&#10;            @PathVariable Long courseId) {&#13;&#10;        try {&#13;&#10;            User student = userRepository.findById(studentId)&#13;&#10;                    .orElseThrow(() -&gt; new RuntimeException(&quot;Student not found&quot;));&#13;&#10;&#13;&#10;            Enrollment enrollment = student.getEnrollments().stream()&#13;&#10;                    .filter(e -&gt; e.getCourse().getId().equals(courseId))&#13;&#10;                    .findFirst()&#13;&#10;                    .orElseThrow(() -&gt; new RuntimeException(&quot;Not enrolled in this course&quot;));&#13;&#10;&#13;&#10;            enrollmentRepository.delete(enrollment);&#13;&#10;&#13;&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#13;&#10;            response.put(&quot;success&quot;, true);&#13;&#10;            response.put(&quot;message&quot;, &quot;Successfully unenrolled from course&quot;);&#13;&#10;            return ResponseEntity.ok(response);&#13;&#10;        } catch (RuntimeException e) {&#13;&#10;            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();&#13;&#10;            response.put(&quot;success&quot;, false);&#13;&#10;            response.put(&quot;message&quot;, e.getMessage());&#13;&#10;            return ResponseEntity.badRequest().body(response);&#13;&#10;        }&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/course-enrollment-backend/src/main/resources/application.properties">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/course-enrollment-backend/src/main/resources/application.properties" />
              <option name="originalContent" value="# Database Configuration - Uses environment variables or defaults to local&#10;spring.datasource.url=${DATABASE_URL:jdbc:mysql://localhost:3306/online_course_db}&#10;spring.datasource.username=${DB_USERNAME:course_user}&#10;spring.datasource.password=${DB_PASSWORD:Test123!#}&#10;spring.jpa.hibernate.ddl-auto=update&#10;spring.jpa.show-sql=true&#10;spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect&#10;&#10;# Server Configuration&#10;server.port=${PORT:8080}&#10;&#10;# Thymeleaf Configuration&#10;spring.thymeleaf.prefix=classpath:/templates/&#10;spring.thymeleaf.suffix=.html&#10;spring.thymeleaf.cache=false&#10;spring.thymeleaf.enabled=true&#10;&#10;spring.security.user.name=user&#10;spring.security.user.password=123&#10;&#10;# CORS Configuration - Allow frontend from Render&#10;allowed.origins=${ALLOWED_ORIGINS:http://https://course-enrollment-frontend-c9mr.onrender.com}&#10;&#10;# Frontend URL - For redirects after login&#10;frontend.url=${FRONTEND_URL:https://course-enrollment-frontend-c9mr.onrender.com}&#10;&#10;" />
              <option name="updatedContent" value="# Database Configuration - Uses environment variables or defaults to local&#10;spring.datasource.url=${DATABASE_URL:jdbc:mysql://localhost:3306/online_course_db}&#10;spring.datasource.username=${DB_USERNAME:course_user}&#10;spring.datasource.password=${DB_PASSWORD:Test123!#}&#10;spring.jpa.hibernate.ddl-auto=update&#10;spring.jpa.show-sql=true&#10;spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect&#10;&#10;# Server Configuration&#10;server.port=${PORT:8080}&#10;&#10;# Thymeleaf Configuration&#10;spring.thymeleaf.prefix=classpath:/templates/&#10;spring.thymeleaf.suffix=.html&#10;spring.thymeleaf.cache=false&#10;spring.thymeleaf.enabled=true&#10;&#10;spring.security.user.name=user&#10;spring.security.user.password=123&#10;&#10;# CORS Configuration - Allow frontend from Render&#10;allowed.origins=${ALLOWED_ORIGINS:https://course-enrollment-frontend-c9mr.onrender.com}&#10;&#10;# Frontend URL - For redirects after login&#10;frontend.url=${FRONTEND_URL:https://course-enrollment-frontend-c9mr.onrender.com}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/student-frontend/.env">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/student-frontend/.env" />
              <option name="updatedContent" value="# Production Backend API URL&#10;VITE_API_URL=https://course-enrollment-system-dxav.onrender.com&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/student-frontend/.env.development">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/student-frontend/.env.development" />
              <option name="originalContent" value="# Development environment&#10;VITE_API_URL=http://localhost:8080&#10;&#10;" />
              <option name="updatedContent" value="# Production environment&#10;VITE_API_URL=https://course-enrollment-system-dxav.onrender.com&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/student-frontend/.env.example">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/student-frontend/.env.example" />
              <option name="originalContent" value="# Backend API URL&#10;# VITE_API_URL=https://your-backend-app.onrender.com&#10;# For production on Render&#10;&#10;VITE_API_URL=http://localhost:8080&#10;# For local development&#10;&#10;" />
              <option name="updatedContent" value="# Backend API URL&#10;# Production backend on Render&#10;VITE_API_URL=https://course-enrollment-system-dxav.onrender.com&#13;&#10;&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/student-frontend/src/App.jsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/student-frontend/src/App.jsx" />
              <option name="originalContent" value="import { useState, useEffect } from 'react'&#10;import StudentDashboard from './components/StudentDashboard'&#10;import './App.css'&#10;&#10;function App() {&#10;  const [isLoggedIn, setIsLoggedIn] = useState(false);&#10;  const [isLoading, setIsLoading] = useState(true);&#10;&#10;  useEffect(() =&gt; {&#10;    // Check if user is already logged in&#10;    const studentId = localStorage.getItem('studentId');&#10;&#10;    // Check if redirected from backend login with studentId in URL&#10;    const urlParams = new URLSearchParams(window.location.search);&#10;    const studentIdFromUrl = urlParams.get('studentId');&#10;&#10;    if (studentIdFromUrl) {&#10;      localStorage.setItem('studentId', studentIdFromUrl);&#10;      setIsLoggedIn(true);&#10;      // Clean up URL&#10;      window.history.replaceState({}, document.title, window.location.pathname);&#10;    } else if (studentId) {&#10;      setIsLoggedIn(true);&#10;    }&#10;&#10;    setIsLoading(false);&#10;  }, []);&#10;&#10;  if (isLoading) {&#10;    return &lt;div className=&quot;loading-container&quot;&gt;Loading...&lt;/div&gt;;&#10;  }&#10;&#10;  if (isLoggedIn) {&#10;    return &lt;StudentDashboard /&gt;;&#10;  }&#10;&#10;  return &lt;LoginPage onLogin={() =&gt; setIsLoggedIn(true)} /&gt;;&#10;}&#10;&#10;function LoginPage({ onLogin }) {&#10;  const [email, setEmail] = useState('');&#10;  const [password, setPassword] = useState('');&#10;  const [error, setError] = useState('');&#10;&#10;  const handleLogin = async (e) =&gt; {&#10;    e.preventDefault();&#10;    setError('');&#10;&#10;    try {&#10;      const response = await fetch('http://localhost:8080/api/auth/login', {&#10;        method: 'POST',&#10;        headers: {&#10;          'Content-Type': 'application/json'&#10;        },&#10;        body: JSON.stringify({ email, password })&#10;      });&#10;&#10;      if (response.ok) {&#10;        const data = await response.json();&#10;        localStorage.setItem('studentId', data.studentId || data.id);&#10;        if (data.token) {&#10;          localStorage.setItem('token', data.token);&#10;        }&#10;        onLogin();&#10;      } else {&#10;        const errorData = await response.json();&#10;        setError(errorData.message || 'Login failed. Please check your credentials.');&#10;      }&#10;    } catch (error) {&#10;      console.error('Error during login:', error);&#10;      setError('Error connecting to server. Please try again.');&#10;    }&#10;  };&#10;&#10;  return (&#10;    &lt;div className=&quot;login-container&quot;&gt;&#10;      &lt;div className=&quot;login-box&quot;&gt;&#10;        &lt;h1&gt;Student Login&lt;/h1&gt;&#10;        &lt;form onSubmit={handleLogin}&gt;&#10;          {error &amp;&amp; &lt;div className=&quot;error-message&quot;&gt;{error}&lt;/div&gt;}&#10;          &lt;div className=&quot;form-group&quot;&gt;&#10;            &lt;label htmlFor=&quot;email&quot;&gt;Email&lt;/label&gt;&#10;            &lt;input&#10;              id=&quot;email&quot;&#10;              type=&quot;email&quot;&#10;              placeholder=&quot;Enter your email&quot;&#10;              value={email}&#10;              onChange={(e) =&gt; setEmail(e.target.value)}&#10;              required&#10;            /&gt;&#10;          &lt;/div&gt;&#10;          &lt;div className=&quot;form-group&quot;&gt;&#10;            &lt;label htmlFor=&quot;password&quot;&gt;Password&lt;/label&gt;&#10;            &lt;input&#10;              id=&quot;password&quot;&#10;              type=&quot;password&quot;&#10;              placeholder=&quot;Enter your password&quot;&#10;              value={password}&#10;              onChange={(e) =&gt; setPassword(e.target.value)}&#10;              required&#10;            /&gt;&#10;          &lt;/div&gt;&#10;          &lt;button type=&quot;submit&quot; className=&quot;login-btn&quot;&gt;Login&lt;/button&gt;&#10;        &lt;/form&gt;&#10;        &lt;p className=&quot;register-link&quot;&gt;&#10;          Don't have an account? &lt;a href=&quot;http://localhost:8080/register&quot;&gt;Register here&lt;/a&gt;&#10;        &lt;/p&gt;&#10;      &lt;/div&gt;&#10;    &lt;/div&gt;&#10;  );&#10;}&#10;&#10;export default App&#10;" />
              <option name="updatedContent" value="import { useState, useEffect } from 'react'&#10;import StudentDashboard from './components/StudentDashboard'&#10;import './App.css'&#10;&#10;function App() {&#10;  const [isLoggedIn, setIsLoggedIn] = useState(false);&#10;  const [isLoading, setIsLoading] = useState(true);&#10;&#10;  useEffect(() =&gt; {&#10;    // Check if user is already logged in&#10;    const studentId = localStorage.getItem('studentId');&#10;&#10;    // Check if redirected from backend login with studentId in URL&#10;    const urlParams = new URLSearchParams(window.location.search);&#10;    const studentIdFromUrl = urlParams.get('studentId');&#10;&#10;    if (studentIdFromUrl) {&#10;      localStorage.setItem('studentId', studentIdFromUrl);&#10;      setIsLoggedIn(true);&#10;      // Clean up URL&#10;      window.history.replaceState({}, document.title, window.location.pathname);&#10;    } else if (studentId) {&#10;      setIsLoggedIn(true);&#10;    }&#10;&#10;    setIsLoading(false);&#10;  }, []);&#10;&#10;  if (isLoading) {&#10;    return &lt;div className=&quot;loading-container&quot;&gt;Loading...&lt;/div&gt;;&#10;  }&#10;&#10;  if (isLoggedIn) {&#10;    return &lt;StudentDashboard /&gt;;&#10;  }&#10;&#10;  return &lt;LoginPage onLogin={() =&gt; setIsLoggedIn(true)} /&gt;;&#10;}&#10;&#10;function LoginPage({ onLogin }) {&#10;  const [email, setEmail] = useState('');&#10;  const [password, setPassword] = useState('');&#10;  const [error, setError] = useState('');&#10;&#10;  const handleLogin = async (e) =&gt; {&#10;    e.preventDefault();&#10;    setError('');&#10;&#10;    try {&#10;      const response = await fetch('http://localhost:8080/api/auth/login', {&#10;        method: 'POST',&#10;        headers: {&#10;          'Content-Type': 'application/json'&#10;        },&#10;        body: JSON.stringify({ email, password })&#10;      });&#10;&#10;      if (response.ok) {&#10;        const data = await response.json();&#10;        localStorage.setItem('studentId', data.studentId || data.id);&#10;        if (data.token) {&#10;          localStorage.setItem('token', data.token);&#10;        }&#10;        onLogin();&#10;      } else {&#10;        const errorData = await response.json();&#10;        setError(errorData.message || 'Login failed. Please check your credentials.');&#10;      }&#10;    } catch (error) {&#10;      console.error('Error during login:', error);&#10;      setError('Error connecting to server. Please try again.');&#10;    }&#10;  };&#10;&#10;  return (&#10;    &lt;div className=&quot;login-container&quot;&gt;&#10;      &lt;div className=&quot;login-box&quot;&gt;&#10;        &lt;h1&gt;Student Login&lt;/h1&gt;&#10;        &lt;form onSubmit={handleLogin}&gt;&#10;          {error &amp;&amp; &lt;div className=&quot;error-message&quot;&gt;{error}&lt;/div&gt;}&#10;          &lt;div className=&quot;form-group&quot;&gt;&#10;            &lt;label htmlFor=&quot;email&quot;&gt;Email&lt;/label&gt;&#10;            &lt;input&#10;              id=&quot;email&quot;&#10;              type=&quot;email&quot;&#10;              placeholder=&quot;Enter your email&quot;&#10;              value={email}&#10;              onChange={(e) =&gt; setEmail(e.target.value)}&#10;              required&#10;            /&gt;&#10;          &lt;/div&gt;&#10;          &lt;div className=&quot;form-group&quot;&gt;&#10;            &lt;label htmlFor=&quot;password&quot;&gt;Password&lt;/label&gt;&#10;            &lt;input&#10;              id=&quot;password&quot;&#10;              type=&quot;password&quot;&#10;              placeholder=&quot;Enter your password&quot;&#10;              value={password}&#10;              onChange={(e) =&gt; setPassword(e.target.value)}&#10;              required&#10;            /&gt;&#10;          &lt;/div&gt;&#10;          &lt;button type=&quot;submit&quot; className=&quot;login-btn&quot;&gt;Login&lt;/button&gt;&#10;        &lt;/form&gt;&#10;        &lt;p className=&quot;register-link&quot;&gt;&#10;          Don't have an account? &lt;a href=&quot;https://course-enrollment-system-dxav.onrender.com/register&quot;&gt;Register here&lt;/a&gt;&#10;        &lt;/p&gt;&#10;      &lt;/div&gt;&#10;    &lt;/div&gt;&#10;  );&#10;}&#10;&#10;export default App&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/student-frontend/src/api/axios.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/student-frontend/src/api/axios.js" />
              <option name="originalContent" value="import axios from 'axios';&#10;&#10;// Use environment variable for API URL, fallback to localhost for development&#10;const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:8080';&#10;&#10;// Create axios instance with default config&#10;const axiosInstance = axios.create({&#10;  baseURL: API_URL,&#10;  withCredentials: true,&#10;  headers: {&#10;    'Content-Type': 'application/json',&#10;  },&#10;});&#10;&#10;// Add request interceptor for debugging&#10;axiosInstance.interceptors.request.use(&#10;  (config) =&gt; {&#10;    console.log('Making request to:', config.url);&#10;    return config;&#10;  },&#10;  (error) =&gt; {&#10;    return Promise.reject(error);&#10;  }&#10;);&#10;&#10;// Add response interceptor for error handling&#10;axiosInstance.interceptors.response.use(&#10;  (response) =&gt; {&#10;    return response;&#10;  },&#10;  (error) =&gt; {&#10;    if (error.response?.status === 401) {&#10;      console.error('Unauthorized - Please login');&#10;      // Optionally redirect to login&#10;      // window.location.href = '/login';&#10;    }&#10;    return Promise.reject(error);&#10;  }&#10;);&#10;&#10;export default axiosInstance;&#10;&#10;" />
              <option name="updatedContent" value="import axios from 'axios';&#10;&#10;// Use environment variable for API URL, fallback to production backend&#10;const API_URL = import.meta.env.VITE_API_URL || 'https://course-enrollment-system-dxav.onrender.com';&#13;&#10;&#13;&#10;// Create axios instance with default config&#13;&#10;const axiosInstance = axios.create({&#13;&#10;  baseURL: API_URL,&#13;&#10;  withCredentials: true,&#13;&#10;  headers: {&#13;&#10;    'Content-Type': 'application/json',&#13;&#10;  },&#13;&#10;});&#13;&#10;&#13;&#10;// Add request interceptor for debugging&#13;&#10;axiosInstance.interceptors.request.use(&#13;&#10;  (config) =&gt; {&#13;&#10;    console.log('Making request to:', config.url);&#13;&#10;    return config;&#13;&#10;  },&#13;&#10;  (error) =&gt; {&#13;&#10;    return Promise.reject(error);&#13;&#10;  }&#13;&#10;);&#13;&#10;&#13;&#10;// Add response interceptor for error handling&#13;&#10;axiosInstance.interceptors.response.use(&#13;&#10;  (response) =&gt; {&#13;&#10;    return response;&#13;&#10;  },&#13;&#10;  (error) =&gt; {&#13;&#10;    if (error.response?.status === 401) {&#13;&#10;      console.error('Unauthorized - Please login');&#13;&#10;      // Optionally redirect to login&#13;&#10;      // window.location.href = '/login';&#13;&#10;    }&#13;&#10;    return Promise.reject(error);&#13;&#10;  }&#13;&#10;);&#13;&#10;&#13;&#10;export default axiosInstance;&#13;&#10;&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>