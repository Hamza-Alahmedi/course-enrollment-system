# Render Blueprint for Course Enrollment System
# This file defines the infrastructure for deploying on Render

services:
  # Backend Service (Spring Boot)
  - type: web
    name: course-enrollment-backend
    runtime: java
    rootDir: course-enrollment-backend
    buildCommand: ./mvnw clean install -DskipTests
    startCommand: java -jar target/Course-Enrollment-System-0.0.1-SNAPSHOT.jar
    envVars:
      - key: PORT
        value: 8080
      - key: DATABASE_URL
        sync: false  # You'll set this manually
      - key: DB_USERNAME
        sync: false  # You'll set this manually
      - key: DB_PASSWORD
        sync: false  # You'll set this manually (use secret)
      - key: ALLOWED_ORIGINS
        sync: false  # You'll set this after frontend deployment
    healthCheckPath: /

  # Frontend Service (React + Vite) - Static Site
  # Note: Static sites are configured separately in Render dashboard

